{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/examen/src/moduloCobros/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from 'primereact/button';\nimport { Toolbar } from 'primereact/toolbar';\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js';\nimport Contenedor, { Alert } from '../componentsPrincipales/Alert.jsx';\nimport SiderBarV from './components/SiderBar.js';\nimport TablaVentas from './components/Ventas';\nimport { TabView, TabPanel } from 'primereact/tabview';\n\nvar Pagos = function Pagos() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      FullScreen = _useState2[0],\n      setFullScreen = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      TipoVenta = _useState4[0],\n      setTipoVenta = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      IdTicket = _useState6[0],\n      setIdTicket = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Total = _useState8[0],\n      setTotal = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      State = _useState10[0],\n      setState = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      FormaPagos = _useState12[0],\n      setFormaPagos = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Servicios = _useState14[0],\n      setServicios = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      Productos = _useState16[0],\n      setProductos = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      Promociones = _useState18[0],\n      setPromociones = _useState18[1];\n\n  var getdata = function getdata() {\n    var idTT = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (idTT) {\n      Fetch(\"api/tickets/get/\".concat(idTT)).then(function (response) {\n        if (response.data) {\n          setServicios(response.data.servicios);\n          setProductos(response.data.medicamentos);\n          setTotal(response.data.total);\n          setState(response.data.estatus);\n          getFormaPagos(idTT);\n          setFullScreen(1);\n        } else {\n          Alert('error', 'No Existe este numero de ticket');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      Fetch(\"api/tickets/get/\".concat(IdTicket)).then(function (response) {\n        if (response.data) {\n          setServicios(response.data.servicios);\n          setProductos(response.data.medicamentos);\n          setTotal(response.data.total);\n          setState(response.data.estatus);\n          getFormaPagos(IdTicket);\n          getPromociones();\n          setFullScreen(1);\n        } else {\n          Alert('error', 'No Existe este numero de ticket');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  };\n\n  var getFormaPagos = function getFormaPagos() {\n    var idTT = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (idTT) {\n      Fetch(\"api/tickets/get/formas-pago/\".concat(idTT)).then(function (response) {\n        console.log(response);\n        setFormaPagos(response.response);\n      });\n    } else {\n      Fetch(\"api/tickets/get/formas-pago/\".concat(IdTicket)).then(function (response) {\n        setFormaPagos(response.response);\n      });\n    }\n  };\n\n  var getPromociones = function getPromociones() {\n    Fetch(\"api/promociones/activas\").then(function (response) {\n      //console.log('PROMOCIONES', response);\n      setPromociones(response.data);\n    });\n  }; //getPromociones();\n\n\n  var generarticket = function generarticket() {\n    var formData = new FormData();\n    formData.append(\"idCita\", 0);\n    Fetch(\"api/tickets/create\", {\n      method: \"POST\",\n      body: formData\n    }).then(function (response) {\n      setIdTicket(response.data);\n      getdata(response.data);\n    }).catch(function (err) {\n      console.log(err); // Alert('warn',err);\n    });\n  };\n\n  var leftContents = function leftContents() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: \" Nueva Venta De Productos\",\n      icon: \"pi pi-plus\",\n      className: \"p-button-success p-mr-2\",\n      onClick: function onClick() {\n        setFullScreen(0);\n        generarticket();\n        setFullScreen(1);\n        setTipoVenta(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  useEffect(function () {\n    if (FullScreen === 0) {\n      setFullScreen(0);\n      setTipoVenta(true);\n      setIdTicket(0);\n      setTotal();\n      setState();\n      setFormaPagos([]);\n      setServicios([]);\n      setProductos([]);\n      setPromociones([]);\n    }\n  }, [FullScreen]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TabView, {\n    activeIndex: FullScreen,\n    onTabChange: function onTabChange(e) {\n      return setFullScreen(e.index);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TabPanel, {\n    header: \"Bobeda de Tickets\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TablaVentas, {\n    FullScreen: FullScreen,\n    setFullScreen: setFullScreen,\n    setIdTicket: setIdTicket,\n    setTotal: setTotal,\n    setServicios: setServicios,\n    setProductos: setProductos,\n    setTipoVenta: setTipoVenta,\n    generarticket: generarticket,\n    IdTicket: IdTicket,\n    getdata: getdata,\n    Servicios: Servicios,\n    Productos: Productos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(TabPanel, {\n    header: \"Detalles del ticket\",\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SiderBarV, {\n    FullScreen: FullScreen,\n    setFullScreen: setFullScreen,\n    Total: Total,\n    State: State,\n    TipoVenta: TipoVenta,\n    Servicios: Servicios,\n    Productos: Productos,\n    IdTicket: IdTicket,\n    setIdTicket: setIdTicket,\n    getdata: getdata,\n    getFormaPagos: getFormaPagos,\n    promociones: Promociones,\n    FormaPagos: FormaPagos,\n    leftContents: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default Pagos;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/examen/src/moduloCobros/index.js"],"names":["React","useState","useEffect","Button","Toolbar","Fetch","Contenedor","Alert","SiderBarV","TablaVentas","TabView","TabPanel","Pagos","FullScreen","setFullScreen","TipoVenta","setTipoVenta","IdTicket","setIdTicket","Total","setTotal","State","setState","FormaPagos","setFormaPagos","Servicios","setServicios","Productos","setProductos","Promociones","setPromociones","getdata","idTT","then","response","data","servicios","medicamentos","total","estatus","getFormaPagos","catch","error","console","log","getPromociones","generarticket","formData","FormData","append","method","body","err","leftContents","e","index"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport {Button} from 'primereact/button';\nimport {Toolbar} from 'primereact/toolbar';\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js'\nimport Contenedor,{Alert} from '../componentsPrincipales/Alert.jsx'\nimport SiderBarV from './components/SiderBar.js'\nimport TablaVentas from './components/Ventas'\nimport {TabView,TabPanel} from 'primereact/tabview';\n\n\nconst Pagos=() => {\n  const [FullScreen,setFullScreen]=useState(0)\n  const [TipoVenta,setTipoVenta]=useState(true)\n  const [IdTicket,setIdTicket]=useState(0);\n  const [Total,setTotal]=useState()\n  const [State,setState]=useState()\n  const [FormaPagos,setFormaPagos]=useState([])\n  const [Servicios,setServicios]=useState([])\n  const [Productos,setProductos]=useState([])\n  const [Promociones,setPromociones]=useState([])\n\n  const getdata=(idTT=false) => {\n\n    if(idTT) {\n      Fetch(`api/tickets/get/${idTT}`)\n        .then(response => {\n          if(response.data) {\n            setServicios(response.data.servicios)\n            setProductos(response.data.medicamentos)\n            setTotal(response.data.total)\n            setState(response.data.estatus)\n            getFormaPagos(idTT)\n            setFullScreen(1);\n          } else {\n            Alert('error','No Existe este numero de ticket')\n          }\n        }).catch(error => {\n          console.log(error)\n        })\n    } else {\n      Fetch(`api/tickets/get/${IdTicket}`)\n        .then(response => {\n          if(response.data) {\n            setServicios(response.data.servicios)\n            setProductos(response.data.medicamentos)\n            setTotal(response.data.total)\n            setState(response.data.estatus)\n            getFormaPagos(IdTicket)\n            getPromociones();\n            setFullScreen(1);\n          } else {\n            Alert('error','No Existe este numero de ticket')\n          }\n        }).catch(error => {\n          console.log(error)\n        })\n    }\n  }\n\n  const getFormaPagos=(idTT=false) => {\n    if(idTT) {\n      Fetch(`api/tickets/get/formas-pago/${idTT}`)\n        .then(response => {\n          console.log(response)\n          setFormaPagos(response.response)\n        })\n    } else {\n      Fetch(`api/tickets/get/formas-pago/${IdTicket}`)\n        .then(response => {\n          setFormaPagos(response.response)\n        })\n    }\n  }\n\n  const getPromociones=() => {\n   \n    Fetch(`api/promociones/activas`)\n      .then(response => {\n        //console.log('PROMOCIONES', response);\n        setPromociones(response.data)\n      })\n  }\n\n  //getPromociones();\n\n  const generarticket=() => {\n    let formData=new FormData();\n    formData.append(\"idCita\",0)\n    Fetch(`api/tickets/create`,{\n      method: \"POST\",\n      body: formData\n    }).then(response => {\n      setIdTicket(response.data)\n      getdata(response.data);\n    }).catch(err => {\n      console.log(err);\n      // Alert('warn',err);\n    });\n  }\n\n  const leftContents=() => (\n    <React.Fragment>\n      <Button\n        label=\" Nueva Venta De Productos\"\n        icon=\"pi pi-plus\"\n        className=\"p-button-success p-mr-2\"\n        onClick={() => {\n          setFullScreen(0)\n          generarticket();\n          setFullScreen(1);\n          setTipoVenta(false);\n        }}\n      />\n    </React.Fragment>\n  )\n\n  useEffect(() => {\n    if(FullScreen===0) {\n      setFullScreen(0)\n      setTipoVenta(true)\n      setIdTicket(0);\n      setTotal()\n      setState()\n      setFormaPagos([])\n      setServicios([])\n      setProductos([])\n      setPromociones([])\n\n    }\n\n  },[FullScreen])\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <TabView activeIndex={FullScreen} onTabChange={(e) => setFullScreen(e.index)}>\n        <TabPanel header=\"Bobeda de Tickets\">\n          <div className=\"card\">\n            <Toolbar left={leftContents} />\n            <TablaVentas\n              FullScreen={FullScreen}\n              setFullScreen={setFullScreen}\n              setIdTicket={setIdTicket}\n              setTotal={setTotal}\n              setServicios={setServicios}\n              \n              setProductos={setProductos}\n              setTipoVenta={setTipoVenta}\n              generarticket={generarticket}\n              IdTicket={IdTicket}\n              getdata={getdata}\n              Servicios={Servicios}\n              Productos={Productos}\n            />\n          </div>\n        </TabPanel>\n        <TabPanel header=\"Detalles del ticket\" disabled>\n          <div className=\"card\">\n            <Toolbar left={leftContents} />\n            <SiderBarV\n              FullScreen={FullScreen}\n              setFullScreen={setFullScreen}\n              Total={Total}\n              State={State}\n              TipoVenta={TipoVenta}\n              Servicios={Servicios}\n              Productos={Productos}\n              IdTicket={IdTicket}\n              setIdTicket={setIdTicket}\n              getdata={getdata}\n              getFormaPagos={getFormaPagos}\n              promociones={Promociones}\n              FormaPagos={FormaPagos}\n              leftContents={leftContents}\n            />\n          </div>\n        </TabPanel>\n      </TabView>\n\n\n\n\n    </React.Fragment>\n  );\n}\nexport default Pagos;\n"]},"metadata":{},"sourceType":"module"}