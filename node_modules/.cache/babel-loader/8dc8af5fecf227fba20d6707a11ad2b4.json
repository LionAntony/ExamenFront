{"ast":null,"code":"import _regeneratorRuntime from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloTickets/components/tools.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Dialog } from 'primereact/dialog';\nimport { Button } from 'primereact/button';\nimport { Card } from 'primereact/card';\nimport Contenedor, { Alert } from '../../componentsPrincipales/Alert.jsx';\nimport qrcode from \"qrcode\";\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js';\n/**\n * \n * @param {tipo} Tipo de Ticket  \n * @param {idCita} id de la cita para generar el ticket\n * @param {OnOff} varaible boleano\n * @param {setOnOff} funcion para cambiar variable OnOff\n * @param { despuesDeImprimir} function\n * @example    \n    import React,{useState,useEffect,Component} from 'react';\n    const [OnOff,setOnOff]=useState(false)\n    <Tickets tipo=\"1\" idCita='54' OnOff={OnOff} setOnOff={setOnOff} despuesDeImprimir={()=>{ alert('Soy una funcion')}} />\n */\n\nvar Tickets = function Tickets(_ref) {\n  var tipo = _ref.tipo,\n      IdTicket = _ref.IdTicket,\n      OnOffProp = _ref.OnOffProp,\n      despuesDeImprimir = _ref.despuesDeImprimir;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      qr = _useState2[0],\n      setqr = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      folio = _useState4[0],\n      setfolio = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Total = _useState6[0],\n      setTotal = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      fecha = _useState8[0],\n      setfecha = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      hora = _useState10[0],\n      sethora = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      medicamentos = _useState12[0],\n      setmedicamentos = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      servicios = _useState14[0],\n      setservicios = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      OnOff = _useState16[0],\n      setOnOff = _useState16[1];\n\n  var getdata = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var idTT,\n          response,\n          _args = arguments;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              idTT = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;\n\n              if (!idTT) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.prev = 2;\n              _context.next = 5;\n              return Fetch(\"api/tickets/get/\".concat(idTT));\n\n            case 5:\n              response = _context.sent;\n\n              if (response.data) {\n                setTotal(response.data.total);\n                setservicios(response.data.servicios);\n                setmedicamentos(response.data.medicamentos);\n              } else {\n                Alert('error', 'No Existe este numero de ticket');\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n\n    return function getdata() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (typeof OnOffProp === 'variable') {\n      if (OnOffProp) {\n        generarticket();\n        setOnOff(true);\n      }\n\n      setOnOff(OnOffProp);\n    } // generarticket();\n\n  }, [OnOffProp]);\n\n  var TTprevPago = function TTprevPago() {\n    return /*#__PURE__*/React.createElement(Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ticket\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"10%\",\n      src: \"assets/layout/images/Anahuac.png\",\n      alt: \"Logotipo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"centrado\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"TICKET PAGO\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), \"$\", Total, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), fecha, \" \", hora)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"200px\",\n      src: qr,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"centrado\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }), \"\\xA1GRACIAS POR SU COMPRA!\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }), \"ANAHUAC Podologos\"))));\n  };\n\n  var TTcomproPago = function TTcomproPago() {\n    return /*#__PURE__*/React.createElement(Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ticket\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"300px\",\n      src: \"assets/layout/images/AmaTusPies.png\",\n      alt: \"Logotipo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"centrado\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, \"Comprobante de Pago\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }), \"$\", Total, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }), fecha, \" \", hora)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, servicios !== undefined ? /*#__PURE__*/React.createElement(\"table\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      class: \"cantidad\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, \" Cantidad \"), /*#__PURE__*/React.createElement(\"th\", {\n      class: \"servicio\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, \" Servicio \"), /*#__PURE__*/React.createElement(\"th\", {\n      class: \"precio\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \" Costo \"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, servicios.map(function (index) {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"cantidad\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }, index.cantidad), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"servicio\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }\n      }, index.nombre), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"precio\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }\n      }, \"$\", index.costo));\n    }))) : ''), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, medicamentos.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      class: \"cantidad\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Cantidad\"), /*#__PURE__*/React.createElement(\"th\", {\n      class: \"producto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Producto\"), /*#__PURE__*/React.createElement(\"th\", {\n      class: \"precio\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, \"Costo\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, medicamentos.map(function (index) {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"cantidad\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, index.cantidad), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"producto\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }\n      }, index.nombre), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"precio\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }\n      }, \"$\", index.costo));\n    }))) : ''), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-d-flex p-jc-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"centrado\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }), \"\\xA1GRACIAS POR SU COMPRA!\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }), \"ANAHUAC Podologos\"))));\n  };\n\n  var renderFooter = function renderFooter() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: \"Imprimir\",\n      icon: \"pi pi-external-link\",\n      onClick: function onClick() {\n        return imprimir();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      label: \"Cancelar\",\n      icon: \"pi pi-times\",\n      onClick: function onClick() {\n        return setOnOff(false);\n      },\n      className: \"p-button-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var imprimir = function imprimir() {\n    var ficha = document.getElementById('ticket');\n    var ventimp = window.open(' ', 'popimpr');\n    ventimp.document.write(ficha.innerHTML);\n    ventimp.document.close();\n    ventimp.print();\n    ventimp.close();\n    setOnOff(false);\n\n    if (typeof despuesDeImprimir === 'function') {\n      despuesDeImprimir();\n    }\n  };\n\n  var qrfun = function qrfun() {\n    qrcode.toDataURL(\"\".concat(IdTicket), {\n      type: 'terminal'\n    }, function (err, url) {\n      setqr(url);\n    });\n  };\n\n  var generarticket = function generarticket() {\n    console.log('Generar Ticket');\n    var hoy = new Date();\n    var fecha = \"\".concat(hoy.getDate(), \"/\").concat(hoy.getMonth() + 1, \"/\").concat(hoy.getFullYear());\n    var hora = \"\".concat(hoy.getHours(), \":\").concat(hoy.getMinutes(), \":\").concat(hoy.getSeconds());\n    setfecha(fecha);\n    sethora(hora);\n    qrfun();\n    var formData = new FormData();\n    formData.append(\"idCita\", IdTicket);\n\n    if (tipo === \"1\") {\n      Fetch(\"api/tickets/create\", {\n        method: \"POST\",\n        body: formData\n      }).then(function (response) {\n        getdata(response.data);\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    } else {\n      getdata(IdTicket);\n    }\n  };\n\n  var BotonTT = function BotonTT() {\n    return /*#__PURE__*/React.createElement(Button, {\n      label: \"Generar TickeT\",\n      icon: \"pi pi-external-link\",\n      onClick: function onClick() {\n        generarticket();\n        setOnOff(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var PreviaTT = function PreviaTT() {\n    return /*#__PURE__*/React.createElement(Dialog, {\n      header: \"Vista Previa de Ticket\",\n      visible: OnOff,\n      style: {\n        width: '50vw'\n      },\n      footer: renderFooter('OnOff'),\n      onHide: function onHide() {\n        return setOnOff(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 7\n      }\n    }, tipo === \"1\" ? /*#__PURE__*/React.createElement(TTprevPago, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 24\n      }\n    }) : '', tipo === \"0\" ? /*#__PURE__*/React.createElement(TTcomproPago, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 24\n      }\n    }) : '');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BotonTT, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PreviaTT, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Tickets;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloTickets/components/tools.js"],"names":["React","useState","useEffect","Dialog","Button","Card","Contenedor","Alert","qrcode","Fetch","Tickets","tipo","IdTicket","OnOffProp","despuesDeImprimir","qr","setqr","folio","setfolio","Total","setTotal","fecha","setfecha","hora","sethora","medicamentos","setmedicamentos","servicios","setservicios","OnOff","setOnOff","getdata","idTT","response","data","total","console","error","generarticket","TTprevPago","TTcomproPago","undefined","map","index","cantidad","nombre","costo","length","renderFooter","imprimir","ficha","document","getElementById","ventimp","window","open","write","innerHTML","close","print","qrfun","toDataURL","type","err","url","log","hoy","Date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","formData","FormData","append","method","body","then","catch","BotonTT","PreviaTT","width"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {Dialog} from 'primereact/dialog';\nimport {Button} from 'primereact/button';\nimport {Card} from 'primereact/card';\nimport Contenedor,{Alert} from '../../componentsPrincipales/Alert.jsx'\nimport qrcode from \"qrcode\"\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js'\n\n/**\n * \n * @param {tipo} Tipo de Ticket  \n * @param {idCita} id de la cita para generar el ticket\n * @param {OnOff} varaible boleano\n * @param {setOnOff} funcion para cambiar variable OnOff\n * @param { despuesDeImprimir} function\n * @example    \n    import React,{useState,useEffect,Component} from 'react';\n    const [OnOff,setOnOff]=useState(false)\n    <Tickets tipo=\"1\" idCita='54' OnOff={OnOff} setOnOff={setOnOff} despuesDeImprimir={()=>{ alert('Soy una funcion')}} />\n */\n\nconst Tickets=({tipo,IdTicket,OnOffProp,despuesDeImprimir}) => {\n  const [qr,setqr]=useState()\n  const [folio,setfolio]=useState()\n  const [Total,setTotal]=useState(0)\n  const [fecha,setfecha]=useState()\n  const [hora,sethora]=useState()\n  const [medicamentos,setmedicamentos]=useState([])\n  const [servicios,setservicios]=useState([])\n  const [OnOff,setOnOff]=useState(false)\n\n  const getdata=async (idTT=false) => {\n\n    if(idTT) {\n      try {\n        let response=await Fetch(`api/tickets/get/${idTT}`)\n        if(response.data) {\n          setTotal(response.data.total)\n          setservicios(response.data.servicios)\n          setmedicamentos(response.data.medicamentos)\n        } else {\n          Alert('error','No Existe este numero de ticket')\n        }\n      } catch(error) {\n        console.error(error);\n      }\n    }\n  }\n\n  useEffect(() => {\n    if(typeof OnOffProp==='variable') {\n      if(OnOffProp) {\n        generarticket();\n        setOnOff(true);\n      }\n      setOnOff(OnOffProp);\n    }\n    // generarticket();\n  },[OnOffProp]);\n\n\n  let TTprevPago=() => {\n    return (\n      <Card>\n        <div id='ticket' >\n          <div className=\"p-d-flex p-jc-center\">\n            {/* <img width=\"100px\" src=\"https://yt3.ggpht.com/-3BKTe8YFlbA/AAAAAAAAAAI/AAAAAAAAAAA/ad0jqQ4IkGE/s900-c-k-no-mo-rj-c0xffffff/photo.jpg\" alt=\"Logotipo\" /> */}\n            <img width=\"10%\" src=\"assets/layout/images/Anahuac.png\" alt=\"Logotipo\" />\n\n            <h1 class=\"centrado\">TICKET PAGO\n            <br />${Total}\n              <br />{fecha} {hora}\n              {/* <br />17/10/2017 02:22 a.m. */}\n            </h1>\n          </div>\n          <div className=\"p-d-flex p-jc-center\">\n            <img width=\"200px\" src={qr}></img>\n\n          </div>\n          <div className=\"p-d-flex p-jc-center\">\n            <br />\n            <h4 class=\"centrado\">\n              <br />\n              ¡GRACIAS POR SU COMPRA!\n            <br />ANAHUAC Podologos\n            </h4>\n\n          </div>\n        </div>\n\n      </Card>\n    )\n  }\n\n  let TTcomproPago=() => {\n    return (\n      <Card>\n        <div id='ticket' >\n          <div className=\"p-d-flex p-jc-center\">\n            <img width=\"300px\" src=\"assets/layout/images/AmaTusPies.png\" alt=\"Logotipo\" />\n            <h1 class=\"centrado\">Comprobante de Pago\n            <br />${Total}\n              <br />{fecha} {hora}\n            </h1>\n          </div>\n          <div className=\"p-d-flex p-jc-center\">\n            {(servicios!==undefined)? (\n              <table>\n                <thead>\n                  <tr>\n                    <th class=\"cantidad\"> Cantidad </th>\n                    <th class=\"servicio\"> Servicio </th>\n                    <th class=\"precio\"> Costo </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    servicios.map((index) => (\n                      <tr>\n                        <td class=\"cantidad\">{index.cantidad}</td>\n                        <td class=\"servicio\">{index.nombre}</td>\n                        <td class=\"precio\">${index.costo}</td>\n                      </tr>\n                    ))\n                  }\n                </tbody>\n              </table>\n            ):''}\n          </div>\n          <div className=\"p-d-flex p-jc-center\">\n            {(medicamentos.length>0)? (\n              <table>\n                <thead>\n                  <tr>\n                    <th class=\"cantidad\">Cantidad</th>\n                    <th class=\"producto\">Producto</th>\n                    <th class=\"precio\">Costo</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    medicamentos.map((index) => (\n                      <tr>\n                        <td class=\"cantidad\">{index.cantidad}</td>\n                        <td class=\"producto\">{index.nombre}</td>\n                        <td class=\"precio\">${index.costo}</td>\n                      </tr>\n                    ))\n                  }\n                </tbody>\n              </table>\n            ):''}\n\n          </div>\n          <div className=\"p-d-flex p-jc-center\">\n            <br />\n            <h4 class=\"centrado\">\n              <br />\n              ¡GRACIAS POR SU COMPRA!\n            <br />ANAHUAC Podologos\n            </h4>\n\n          </div>\n        </div>\n\n      </Card>\n    )\n  }\n\n  let renderFooter=() => {\n    return (\n      <div>\n        <Button label=\"Imprimir\" icon=\"pi pi-external-link\" onClick={() => imprimir()} />\n        <Button label=\"Cancelar\" icon=\"pi pi-times\" onClick={() => setOnOff(false)} className=\"p-button-text\" />\n        {/* <Button label=\"Yes\" icon=\"pi pi-check\" onClick={() => setOnOff(false)} autoFocus /> */}\n      </div>\n    );\n  }\n\n  let imprimir=() => {\n\n    var ficha=document.getElementById('ticket');\n    var ventimp=window.open(' ','popimpr');\n    ventimp.document.write(ficha.innerHTML);\n    ventimp.document.close();\n    ventimp.print();\n    ventimp.close();\n    setOnOff(false);\n    if(typeof despuesDeImprimir==='function') {\n      despuesDeImprimir()\n    }\n  }\n\n  let qrfun=() => {\n    qrcode.toDataURL(`${IdTicket}`,{type: 'terminal'},(err,url) => {\n      setqr(url);\n    })\n  }\n\n  let generarticket=() => {\n    console.log('Generar Ticket');\n    let hoy=new Date();\n    let fecha=`${hoy.getDate()}/${(hoy.getMonth()+1)}/${hoy.getFullYear()}`\n    let hora=`${hoy.getHours()}:${hoy.getMinutes()}:${hoy.getSeconds()}`;\n    setfecha(fecha);\n    sethora(hora);\n    qrfun();\n    let formData=new FormData();\n    formData.append(\"idCita\",IdTicket)\n\n    if(tipo===\"1\") {\n      Fetch(`api/tickets/create`,{\n        method: \"POST\",\n        body: formData\n      }).then(response => {\n        getdata(response.data)\n\n      })\n        .catch(err => {\n          console.log(err);\n          Alert('warn',err);\n        });\n    } else {\n      getdata(IdTicket)\n    }\n\n\n\n  }\n\n  let BotonTT=() => {\n    return (\n      <Button\n        label=\"Generar TickeT\"\n        icon=\"pi pi-external-link\"\n        onClick={() => {\n          generarticket();\n          setOnOff(true)\n        }} />\n    );\n  }\n\n  let PreviaTT=() => {\n    return (\n      <Dialog\n        header=\"Vista Previa de Ticket\"\n        visible={OnOff}\n        style={{width: '50vw'}}\n        footer={renderFooter('OnOff')}\n        onHide={() => setOnOff(false)}\n      >\n        {(tipo===\"1\")? <TTprevPago />:''}\n        {(tipo===\"0\")? <TTcomproPago />:''}\n      </Dialog>\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <BotonTT />\n      <PreviaTT />\n    </React.Fragment>\n  );\n}\n\nexport default Tickets;"]},"metadata":{},"sourceType":"module"}