{"ast":null,"code":"import _objectSpread from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/examen/src/componentsPrincipales/Tabla/Tabla.js\";\nimport React, { Component } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Dialog } from 'primereact/dialog';\nimport { InputText } from 'primereact/inputtext';\n/**\n * @param \n */\n\nexport var DataTableCrud = /*#__PURE__*/function (_Component) {\n  _inherits(DataTableCrud, _Component);\n\n  var _super = _createSuper(DataTableCrud);\n\n  function DataTableCrud(props) {\n    var _this;\n\n    _classCallCheck(this, DataTableCrud);\n\n    _this = _super.call(this, props);\n\n    _this.openNew = function () {\n      console.log(\"Entro\");\n\n      _this.setState({\n        DataEdit: _this.state.emptyData,\n        submitted: false,\n        DataEditDialog: true\n      });\n    };\n\n    _this.hideDialog = function () {\n      _this.setState({\n        submitted: false,\n        DataEditDialog: false\n      });\n    };\n\n    _this.hideDeleteDataEditDialog = function () {\n      _this.setState({\n        deleteDataEditDialog: false\n      });\n    };\n\n    _this.editDataEdit = function (DataEdit) {\n      _this.setState({\n        DataEdit: DataEdit,\n        DataEditDialog: true\n      });\n    };\n\n    _this.confirmDeleteDataEdit = function (DataEdit) {\n      _this.setState({\n        DataEdit,\n        deleteDataEditDialog: true\n      });\n    };\n\n    _this.deleteDataEdit = function () {\n      _this.props.funDeleted(_this.state.DataEdit).then(function (response) {\n        _this.props.funGet(_assertThisInitialized(_this));\n\n        _this.setState({\n          deleteDataEditDialog: false,\n          DataEdit: _this.emptyData\n        });\n      });\n    };\n\n    _this.saveDataEdit = function () {\n      _this.setState({\n        submitted: true\n      });\n\n      if (_this.state.DataEdit) {\n        _this.props.funUpdate(_this.state.DataEdit).then(function (response) {\n          if (response) {\n            _this.props.funGet(_assertThisInitialized(_this));\n\n            _this.setState({\n              DataEditDialog: false,\n              DataEdit: _this.emptyData,\n              submitted: false\n            });\n          }\n        });\n      } else {\n        _this.props.funInsert(_this.state.DataEdit).then(function (response) {\n          if (response) {\n            _this.props.funGet(_assertThisInitialized(_this));\n\n            _this.setState({\n              DataEditDialog: false,\n              DataEdit: _this.emptyData,\n              submitted: false\n            });\n          }\n        });\n      }\n    };\n\n    _this.exportCSV = function () {\n      _this.dt.exportCSV();\n    };\n\n    _this.confirmDeleteSelected = function () {\n      _this.setState({\n        deleteDataEditDialog: true\n      });\n    };\n\n    _this.leftToolbarTemplate = function () {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        label: \"Nuevo\",\n        icon: \"pi pi-plus\",\n        className: \"p-button-success p-mr-2\",\n        onClick: _this.openNew,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    _this.actionBodyTemplate = function (rowData) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        icon: \"pi pi-pencil\",\n        className: \"p-button-rounded p-button-success p-mr-2\",\n        onClick: function onClick() {\n          return _this.editDataEdit(rowData);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        icon: \"pi pi-trash\",\n        className: \"p-button-rounded p-button-warning\",\n        onClick: function onClick() {\n          return _this.confirmDeleteDataEdit(rowData);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    _this.onInputChange = function (e, name) {\n      var val = e.target && e.target.value || '';\n\n      var DataEdit = _objectSpread({}, _this.state.DataEdit);\n\n      if (name === 'precio' || name === 'precio_descuento') {\n        if (val.length === 0) {\n          val = 0;\n        }\n      }\n\n      DataEdit[\"\".concat(name)] = val;\n\n      _this.setState({\n        DataEdit\n      });\n    };\n\n    _this.state = {\n      emptyData: {},\n      data: [],\n      DataEditDialog: false,\n      deleteDataEditDialog: false,\n      DataEdit: _this.emptyData,\n      selectedData: null,\n      submitted: false,\n      globalFilter: null\n    };\n    return _this;\n  }\n\n  _createClass(DataTableCrud, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        data: this.props.data,\n        emptyData: this.props.emptyData\n      });\n      this.props.funGet(this);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Uso tipico (no olvides de comparar las props):\n      if (this.props.emptyData !== prevProps.emptyData) {\n        this.setState({\n          // data: this.props.data,\n          emptyData: this.props.emptyData\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var header = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(InputText, {\n        type: \"search\",\n        onInput: function onInput(e) {\n          return _this2.setState({\n            globalFilter: e.target.value\n          });\n        },\n        placeholder: \"Buscar...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }));\n      var DataEditDialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        label: \"Cancelar\",\n        icon: \"pi pi-times\",\n        className: \"p-button-text\",\n        onClick: this.hideDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        label: \"Guardar\",\n        icon: \"pi pi-check\",\n        className: \"p-button-text\",\n        onClick: this.saveDataEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }\n      }));\n      var deleteDataEditDialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        label: \"No\",\n        icon: \"pi pi-times\",\n        className: \"p-button-text\",\n        onClick: this.hideDeleteDataEditDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        label: \"Yes\",\n        icon: \"pi pi-check\",\n        className: \"p-button-text\",\n        onClick: this.deleteDataEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }\n      }));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"datatable-crud-demo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        className: \"p-mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }\n      }, this.leftToolbarTemplate()), /*#__PURE__*/React.createElement(DataTable, {\n        ref: function ref(el) {\n          return _this2.dt = el;\n        },\n        value: this.state.data,\n        selection: this.state.selectedData,\n        onSelectionChange: function onSelectionChange(e) {\n          return _this2.setState({\n            selectedData: e.value\n          });\n        },\n        dataKey: \"id\",\n        paginator: true,\n        rows: 10,\n        rowsPerPageOptions: [2, 5, 10, 25],\n        paginatorTemplate: \"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\",\n        currentPageReportTemplate: \" {first} de {last} de {totalRecords} Registros\",\n        globalFilter: this.state.globalFilter,\n        header: header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, this.props.columnas.map(function (option) {\n        return /*#__PURE__*/React.createElement(Column, {\n          field: option.field,\n          header: option.header,\n          sortable: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }\n        });\n      }), /*#__PURE__*/React.createElement(Column, {\n        body: this.actionBodyTemplate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(Dialog, {\n        visible: this.state.DataEditDialog,\n        style: {\n          width: '70vw'\n        },\n        header: this.props.title,\n        modal: true // className=\"p-fluid\"\n        ,\n        footer: DataEditDialogFooter,\n        onHide: this.hideDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-grid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }\n      }, this.state.DataEditDialog ? this.props.formulario(this) : '')), /*#__PURE__*/React.createElement(Dialog, {\n        visible: this.state.deleteDataEditDialog,\n        style: {\n          width: '50%'\n        },\n        header: \"Confirm\",\n        modal: true,\n        footer: deleteDataEditDialogFooter,\n        onHide: this.hideDeleteDataEditDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"confirmation-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"pi pi-exclamation-triangle p-mr-3\",\n        style: {\n          fontSize: '2rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }\n      }), this.state.DataEdit && /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 35\n        }\n      }, \"Estas seguro de eliminar registro?\"))));\n    }\n  }]);\n\n  return DataTableCrud;\n}(Component);\nexport default DataTableCrud;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/examen/src/componentsPrincipales/Tabla/Tabla.js"],"names":["React","Component","DataTable","Column","Button","Toolbar","Dialog","InputText","DataTableCrud","props","openNew","console","log","setState","DataEdit","state","emptyData","submitted","DataEditDialog","hideDialog","hideDeleteDataEditDialog","deleteDataEditDialog","editDataEdit","confirmDeleteDataEdit","deleteDataEdit","funDeleted","then","response","funGet","saveDataEdit","funUpdate","funInsert","exportCSV","dt","confirmDeleteSelected","leftToolbarTemplate","actionBodyTemplate","rowData","onInputChange","e","name","val","target","value","length","data","selectedData","globalFilter","prevProps","header","DataEditDialogFooter","deleteDataEditDialogFooter","el","columnas","map","option","field","width","title","formulario","fontSize"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport {Button} from 'primereact/button';\nimport {Toolbar} from 'primereact/toolbar';\nimport {Dialog} from 'primereact/dialog';\nimport {InputText} from 'primereact/inputtext';\n/**\n * @param \n */\nexport class DataTableCrud extends Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      emptyData: {},\n      data: [],\n      DataEditDialog: false,\n      deleteDataEditDialog: false,\n      DataEdit: this.emptyData,\n      selectedData: null,\n      submitted: false,\n      globalFilter: null\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      data: this.props.data,\n      emptyData: this.props.emptyData\n    });\n    this.props.funGet(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    // Uso tipico (no olvides de comparar las props):\n    if(this.props.emptyData!==prevProps.emptyData) {\n      this.setState({\n        // data: this.props.data,\n        emptyData: this.props.emptyData\n      });\n    }\n  }\n\n  openNew=() => {\n    console.log(\"Entro\");\n    this.setState({\n      DataEdit: this.state.emptyData,\n      submitted: false,\n      DataEditDialog: true\n    });\n  }\n\n  hideDialog=() => {\n    this.setState({\n      submitted: false,\n      DataEditDialog: false\n    });\n  }\n\n  hideDeleteDataEditDialog=() => {\n    this.setState({deleteDataEditDialog: false});\n  }\n\n  editDataEdit=(DataEdit) => {\n    this.setState({DataEdit: DataEdit,DataEditDialog: true});\n  }\n\n  confirmDeleteDataEdit=(DataEdit) => {\n    this.setState({\n      DataEdit,\n      deleteDataEditDialog: true\n    });\n  }\n\n  deleteDataEdit=() => {\n    this.props.funDeleted(this.state.DataEdit).then(response => {\n      this.props.funGet(this);\n      this.setState({\n        deleteDataEditDialog: false,\n        DataEdit: this.emptyData\n      });\n    });\n  }\n\n  saveDataEdit=() => {\n    this.setState({submitted: true});\n    if(this.state.DataEdit) {\n      this.props.funUpdate(this.state.DataEdit).then(response => {\n        if(response) {\n          this.props.funGet(this)\n          this.setState({\n            DataEditDialog: false,\n            DataEdit: this.emptyData,\n            submitted: false\n          });\n        }\n      });\n    } else {\n      this.props.funInsert(this.state.DataEdit).then(response => {\n        if(response) {\n          this.props.funGet(this)\n          this.setState({\n            DataEditDialog: false,\n            DataEdit: this.emptyData,\n            submitted: false\n          });\n        }\n      });\n    }\n  }\n\n  exportCSV=() => {\n    this.dt.exportCSV();\n  }\n\n  confirmDeleteSelected=() => {\n    this.setState({deleteDataEditDialog: true});\n  }\n\n  leftToolbarTemplate=() => {\n    return (\n      <>\n        <Button\n          label=\"Nuevo\"\n          icon=\"pi pi-plus\"\n          className=\"p-button-success p-mr-2\"\n          onClick={this.openNew}\n        />\n      </>\n    )\n  }\n\n  actionBodyTemplate=(rowData) => {\n    return (\n      <>\n        <Button\n          icon=\"pi pi-pencil\"\n          className=\"p-button-rounded p-button-success p-mr-2\"\n          onClick={() => this.editDataEdit(rowData)}\n        />\n        <Button\n          icon=\"pi pi-trash\"\n          className=\"p-button-rounded p-button-warning\"\n          onClick={() => this.confirmDeleteDataEdit(rowData)}\n        />\n      </>\n    );\n  }\n\n  onInputChange=(e,name) => {\n    let val=(e.target&&e.target.value)||'';\n    let DataEdit={...this.state.DataEdit};\n    if(name==='precio'||name==='precio_descuento') {\n      if(val.length===0) {\n        val=0;\n      }\n    }\n    DataEdit[`${name}`]=val;\n    this.setState({DataEdit});\n  }\n\n  render() {\n    const header=(\n      <div className=\"table-header\">\n        <InputText type=\"search\" onInput={(e) => this.setState({globalFilter: e.target.value})} placeholder=\"Buscar...\" />\n      </div>\n    );\n    const DataEditDialogFooter=(\n      <>\n        <Button\n          label=\"Cancelar\"\n          icon=\"pi pi-times\"\n          className=\"p-button-text\"\n          onClick={this.hideDialog}\n        />\n        <Button\n          label=\"Guardar\"\n          icon=\"pi pi-check\"\n          className=\"p-button-text\"\n          onClick={this.saveDataEdit}\n        />\n      </>\n    );\n    const deleteDataEditDialogFooter=(\n      <>\n        <Button\n          label=\"No\"\n          icon=\"pi pi-times\"\n          className=\"p-button-text\"\n          onClick={this.hideDeleteDataEditDialog}\n        />\n        <Button\n          label=\"Yes\"\n          icon=\"pi pi-check\"\n          className=\"p-button-text\"\n          onClick={this.deleteDataEdit}\n        />\n      </>\n    );\n\n    return (\n      <div className=\"datatable-crud-demo\">\n        <div className=\"card\">\n          <Toolbar className=\"p-mb-4\">\n            {this.leftToolbarTemplate()}\n            {/* {this.rightToolbarTemplate()} */}\n          </Toolbar>\n          <DataTable\n            ref={(el) => this.dt=el}\n            value={this.state.data}\n            selection={this.state.selectedData}\n            onSelectionChange={(e) => this.setState({selectedData: e.value})}\n            dataKey=\"id\"\n            paginator\n            rows={10}\n            rowsPerPageOptions={[2,5,10,25]}\n            paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\n            currentPageReportTemplate=\" {first} de {last} de {totalRecords} Registros\"\n            globalFilter={this.state.globalFilter}\n            header={header}>\n            {/* <Column selectionMode=\"multiple\" headerStyle={{width: '3rem'}}></Column> */}\n            {this.props.columnas.map((option) =>\n              <Column field={option.field} header={option.header} sortable></Column>\n            )}\n            <Column body={this.actionBodyTemplate}></Column>\n          </DataTable>\n        </div>\n        <Dialog\n          visible={this.state.DataEditDialog}\n          style={{width: '70vw'}}\n          header={this.props.title}\n          modal\n          // className=\"p-fluid\"\n          footer={DataEditDialogFooter}\n          onHide={this.hideDialog}>\n          {/* <Panel header=\"Producto\"> */}\n          {/* Campo de clave */}\n          <div className=\"p-grid\">\n            {this.state.DataEditDialog? this.props.formulario(this):''}\n          </div>\n          {/* </Panel> */}\n        </Dialog>\n        {/* <Dialog\n          header=\"Header\"\n          visible={this.state.displayPosition}\n          position={this.state.position}\n          modal\n          style={{width: '50vw'}}\n          footer={this.renderFooter('displayPosition')}\n          onHide={() => this.onHide('displayPosition')}>\n          <p className=\"p-m-0\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\n          laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\n                        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n        </Dialog> */}\n\n        <Dialog visible={this.state.deleteDataEditDialog} style={{width: '50%'}} header=\"Confirm\" modal footer={deleteDataEditDialogFooter} onHide={this.hideDeleteDataEditDialog}>\n          <div className=\"confirmation-content\">\n            <i className=\"pi pi-exclamation-triangle p-mr-3\" style={{fontSize: '2rem'}} />\n            {this.state.DataEdit&&<span>Estas seguro de eliminar registro?</span>}\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default DataTableCrud;\n"]},"metadata":{},"sourceType":"module"}