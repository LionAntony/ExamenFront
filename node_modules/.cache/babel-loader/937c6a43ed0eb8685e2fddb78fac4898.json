{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloCobros/components/Factura.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Dropdown } from 'primereact/dropdown';\nimport { InputNumber } from 'primereact/inputnumber';\nimport { Button } from 'primereact/button';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { InputSwitch } from 'primereact/inputswitch';\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js';\nimport Contenedor, { Alert } from '../../componentsPrincipales/Alert.jsx';\n\nvar Factura = function Factura(_ref) {\n  var IdTicket = _ref.IdTicket,\n      setIdTicket = _ref.setIdTicket,\n      getdata = _ref.getdata;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      CatProductos = _useState2[0],\n      setCatProductos = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      SelectProduct = _useState4[0],\n      setSelectProduct = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Cantidad = _useState6[0],\n      setCantidad = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Status = _useState8[0],\n      setStatus = _useState8[1];\n\n  var addProductos = function addProductos() {\n    var datos = new FormData();\n    datos.append('idTicket', IdTicket);\n    datos.append('idMedicina', SelectProduct.idmedicamentos);\n    datos.append('cantidad', Cantidad);\n    console.log(\"IdTicket: \".concat(IdTicket, \" SelectProduct: \").concat(SelectProduct.idmedicamentos, \"Cantidad: \").concat(Cantidad));\n    Fetch('api/tickets/add/medicina', {\n      method: \"PUT\",\n      body: datos\n    }).then(function (response) {\n      // console.log(response)\n      getdata();\n      Alert('success', 'Se agrego a la cuenta ');\n    });\n  };\n\n  var deleteProductos = function deleteProductos(rowData) {\n    var datos = new FormData();\n    datos.append('idTicket', IdTicket);\n    datos.append('idMedicina', rowData.id);\n    Fetch('api/tickets/delete/medicina', {\n      method: \"delete\",\n      body: datos\n    }).then(function (response) {\n      console.log(response);\n      getdata();\n      Alert('success', 'Se elimino de la cuenta');\n    }); // /api/tickets/delete/medicina\n    // body: {\n    //    idTicket:number,\n    //    idMedicina:number,\n    //  }\n    // regresa si todo está correcto: {response:'drug_deleted'}\n  };\n\n  useEffect(function () {\n    Fetch('api/mercancia').then(function (response) {\n      setCatProductos(response.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  var tablaProductosSelccionados = function tablaProductosSelccionados() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      classNames: \"content-section\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var actionCitasEnEsperaBodyTemplate = function actionCitasEnEsperaBodyTemplate(rowData) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      icon: \"pi pi-times\",\n      className: \"p-button-rounded p-button-danger p-mr-2\",\n      onClick: function onClick() {\n        return deleteProductos(rowData);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Factura\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-mr-2 p-as-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Estado de Empleado\"), /*#__PURE__*/React.createElement(InputSwitch, {\n    checked: Status === 0 ? false : true,\n    onChange: function onChange(e) {\n      return setStatus(e.value ? 1 : 0);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Factura;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloCobros/components/Factura.js"],"names":["React","useState","useEffect","Dropdown","InputNumber","Button","DataTable","Column","InputSwitch","Fetch","Contenedor","Alert","Factura","IdTicket","setIdTicket","getdata","CatProductos","setCatProductos","SelectProduct","setSelectProduct","Cantidad","setCantidad","Status","setStatus","addProductos","datos","FormData","append","idmedicamentos","console","log","method","body","then","response","deleteProductos","rowData","id","data","catch","err","tablaProductosSelccionados","actionCitasEnEsperaBodyTemplate","e","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {Dropdown} from 'primereact/dropdown';\nimport {InputNumber} from 'primereact/inputnumber';\nimport {Button} from 'primereact/button';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport {InputSwitch} from 'primereact/inputswitch';\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js'\nimport Contenedor,{Alert} from '../../componentsPrincipales/Alert.jsx'\n\nconst Factura=({IdTicket,setIdTicket,getdata}) => {\n\n  const [CatProductos,setCatProductos]=useState([])\n  const [SelectProduct,setSelectProduct]=useState()\n  const [Cantidad,setCantidad]=useState()\n  const [Status,setStatus]=useState()\n\n\n  const addProductos=() => {\n    let datos=new FormData()\n    datos.append('idTicket',IdTicket)\n    datos.append('idMedicina',SelectProduct.idmedicamentos)\n    datos.append('cantidad',Cantidad)\n\n    console.log(`IdTicket: ${IdTicket} SelectProduct: ${SelectProduct.idmedicamentos}Cantidad: ${Cantidad}`)\n\n    Fetch('api/tickets/add/medicina',{method: \"PUT\",body: datos})\n      .then(response => {\n        // console.log(response)\n        getdata();\n        Alert('success','Se agrego a la cuenta ');\n\n      })\n  }\n\n  const deleteProductos=(rowData) => {\n    let datos=new FormData();\n    datos.append('idTicket',IdTicket)\n    datos.append('idMedicina',rowData.id)\n\n    Fetch('api/tickets/delete/medicina',{method: \"delete\",body: datos})\n      .then(response => {\n        console.log(response)\n        getdata();\n        Alert('success','Se elimino de la cuenta');\n\n      });\n\n    // /api/tickets/delete/medicina\n    // body: {\n    //    idTicket:number,\n    //    idMedicina:number,\n    //  }\n    // regresa si todo está correcto: {response:'drug_deleted'}\n  }\n\n  useEffect(() => {\n    Fetch('api/mercancia')\n      .then(response => {\n        setCatProductos(response.data);\n      }).catch(err => {\n        console.log(err);\n      })\n  },[]);\n\n\n\n  const tablaProductosSelccionados=() => {\n    return (\n      <React.Fragment>\n        <div classNames=\"content-section\">\n          {/* <DataTable value={props.cita.arrayProductos} globalFilter={props.globalFilter} paginatorPosition=\"both\" selectionMode=\"single\" header=\"Productos Seleccionados\" paginator={false} rows={10}\n            responsive={true}>\n            <Column field=\"servicio\" header=\"Servicio\" sortable={false} />\n            <Column field=\"cantidad\" header=\"Cantidad\" sortable={true} />\n            <Column body={props.ProductosActionBodyTemplate}></Column>\n          </DataTable> */}\n        </div>\n      </React.Fragment>)\n  }\n\n\n  const actionCitasEnEsperaBodyTemplate=(rowData) => {\n    return (\n      <>\n        {/* <Button icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-warning p-mr-2\" onClick={() => this.editCita(rowData)} /> */}\n        <Button icon=\"pi pi-times\" className=\"p-button-rounded p-button-danger p-mr-2\" onClick={() => deleteProductos(rowData)} />\n        {/* <Button icon=\"pi pi-upload\" className=\"p-button-rounded p-button-success p-mr-2\" onClick={() => this.showValidacionPINDialogAtender(rowData)} /> */}\n      </>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <h5>Factura</h5>\n\n      <div className=\"p-mr-2 p-as-center\">\n\n        <h5>Estado de Empleado</h5>\n        <InputSwitch checked={Status===0? false:true} onChange={(e) => setStatus(e.value? 1:0)} />\n\n      </div>\n\n    </React.Fragment>\n  )\n}\n\nexport default Factura;"]},"metadata":{},"sourceType":"module"}