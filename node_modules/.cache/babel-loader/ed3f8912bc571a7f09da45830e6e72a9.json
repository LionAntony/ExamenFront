{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloAdminMercancia/index.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport Contenedor, { Alert } from '../componentsPrincipales/Alert.jsx';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport TablaM from '../componentsPrincipales/TablaL/TablaMerca';\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js';\nimport Formulario from './components/formulario';\n\nvar AdminMercancia = function AdminMercancia() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      OpenForm = _useState4[0],\n      setOpenForm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      DeleteForm = _useState6[0],\n      setDeleteForm = _useState6[1];\n\n  var _useState7 = useState({\n    idmedicamentos: false,\n    clave: '',\n    nombre: '',\n    descripcion: '',\n    costoCompra: '',\n    costoPublico: '',\n    stock: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      StateData = _useState8[0],\n      setStateData = _useState8[1];\n\n  var Columnas = [{\n    field: \"clave\",\n    header: \"Clave\"\n  }, {\n    field: \"nombre\",\n    header: \"Nombre\"\n  }, {\n    field: \"descripcion\",\n    header: \"Descripcion\"\n  }, {\n    field: \"costoCompra\",\n    header: \"Costo de Compra\"\n  }, {\n    field: \"costoPublico\",\n    header: \"Costo a Publico\"\n  }, {\n    field: \"stock\",\n    header: \"Stock\"\n  }];\n  useEffect(function () {\n    funget();\n  }, []);\n\n  var clearData = function clearData() {\n    setStateData({\n      idmedicamentos: false,\n      clave: '',\n      nombre: '',\n      descripcion: '',\n      costoCompra: '',\n      costoPublico: '',\n      stock: ''\n    });\n  };\n\n  var validSaveUpdate = function validSaveUpdate() {\n    if (StateData.idmedicamentos) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var funget = function funget() {\n    Fetch('api/mercancia').then(function (response) {\n      setData(response.data);\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var saveDataEdit = function saveDataEdit() {\n    if (validSaveUpdate()) {\n      funUpdate();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      setOpenForm(false);\n      clearData();\n    }\n  };\n\n  var funInsert = function funInsert() {\n    if (StateData.clave !== '' && StateData.nombre !== '' && StateData.descripcion !== '' && StateData.costoCompra !== '' && StateData.costoPublico !== '' && StateData.stock !== '') {\n      var formData = new FormData();\n      formData.append(\"clave\", StateData.clave);\n      formData.append(\"nombre\", StateData.nombre);\n      formData.append(\"descripcion\", StateData.descripcion);\n      formData.append(\"costoCompra\", StateData.costoCompra);\n      formData.append(\"costoPublico\", StateData.costoPublico);\n      formData.append(\"stock\", StateData.stock);\n      Fetch(\"api/mercancia\", {\n        method: \"POST\",\n        body: formData\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Nuevo Producto Registrado!!!');\n        } else {\n          Alert('warn', response.err);\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    }\n  };\n\n  var funUpdate = function funUpdate() {\n    if (StateData.idmedicamentos && StateData.clave !== '' && StateData.nombre !== '' && StateData.descripcion !== '' && StateData.costoCompra !== '' && StateData.costoPublico !== '' && StateData.stock !== '') {\n      var formData = new FormData();\n      formData.append(\"idmedicamentos\", StateData.idmedicamentos);\n      formData.append(\"clave\", StateData.clave);\n      formData.append(\"nombre\", StateData.nombre);\n      formData.append(\"descripcion\", StateData.descripcion);\n      formData.append(\"costoCompra\", StateData.costoCompra);\n      formData.append(\"costoPublico\", StateData.costoPublico);\n      formData.append(\"stock\", StateData.stock);\n      Fetch(\"api/mercancia\", {\n        method: \"PUT\",\n        body: formData\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Informacion Actualizada!!!');\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    }\n  };\n\n  var funDeleted = function funDeleted() {\n    Fetch(\"api/mercancia/\".concat(StateData.idmedicamentos), {\n      method: \"DELETE\"\n    }).then(function (response) {\n      if (response.status) {\n        funget();\n        Alert('success', 'Registro Eliminado!!!');\n      }\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var DataEdit = function DataEdit(rowData) {\n    if (rowData.idmedicamentos) setStateData({\n      idmedicamentos: rowData.idmedicamentos,\n      clave: rowData.clave,\n      nombre: rowData.nombre,\n      descripcion: rowData.descripcion,\n      costoCompra: rowData.costoCompra,\n      costoPublico: rowData.costoPublico,\n      stock: rowData.stock\n    });\n  };\n\n  var DialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"Cancelar\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Guardar\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      return saveDataEdit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }));\n  var deleteDialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"No\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Yes\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      funDeleted();\n      funget();\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }\n  }));\n  var leftContents = /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Nuevo\",\n    icon: \"pi pi-plus\",\n    className: \"p-button-success p-mr-2\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"datatable-crud-demo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(TablaM, {\n    Data: Data,\n    Columnas: Columnas,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    DataEdit: DataEdit,\n    DeleteForm: DeleteForm,\n    setDeleteForm: setDeleteForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    visible: OpenForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Mercancia\",\n    modal: true,\n    className: \"p-fluid\",\n    footer: DialogFooter,\n    onHide: function onHide() {\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }\n  }, OpenForm ? /*#__PURE__*/React.createElement(Formulario, {\n    StateData: StateData,\n    setStateData: setStateData,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }) : ''), /*#__PURE__*/React.createElement(Dialog, {\n    visible: DeleteForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Confirm\",\n    modal: true,\n    footer: deleteDialogFooter,\n    onHide: function onHide() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-exclamation-triangle p-mr-3\",\n    style: {\n      fontSize: '2rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 11\n    }\n  }), DataEdit && /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 22\n    }\n  }, \"Estas seguro de eliminar registro?\"))));\n};\n\nexport default AdminMercancia;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloAdminMercancia/index.js"],"names":["React","useState","useEffect","Contenedor","Alert","Toolbar","Button","Dialog","TablaM","Fetch","Formulario","AdminMercancia","Data","setData","OpenForm","setOpenForm","DeleteForm","setDeleteForm","idmedicamentos","clave","nombre","descripcion","costoCompra","costoPublico","stock","StateData","setStateData","Columnas","field","header","funget","clearData","validSaveUpdate","then","response","data","catch","err","console","log","saveDataEdit","funUpdate","funInsert","formData","FormData","append","method","body","status","funDeleted","DataEdit","rowData","DialogFooter","deleteDialogFooter","leftContents","width","fontSize"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Contenedor,{Alert} from '../componentsPrincipales/Alert.jsx'\nimport {Toolbar} from 'primereact/toolbar';\nimport {Button} from 'primereact/button';\nimport {Dialog} from 'primereact/dialog';\nimport TablaM from '../componentsPrincipales/TablaL/TablaMerca'\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js'\nimport Formulario from './components/formulario'\n\nconst AdminMercancia=() => {\n  const [Data,setData]=useState([])\n  const [OpenForm,setOpenForm]=useState(false)\n  const [DeleteForm,setDeleteForm]=useState(false)\n  const [StateData,setStateData]=useState(\n    {\n      idmedicamentos: false,\n      clave: '',\n      nombre: '',\n      descripcion: '',\n      costoCompra: '',\n      costoPublico: '',\n      stock: '',\n    })\n\n\n  const Columnas=[\n    {field: \"clave\",header: \"Clave\"},\n    {field: \"nombre\",header: \"Nombre\"},\n    {field: \"descripcion\",header: \"Descripcion\"},\n    {field: \"costoCompra\",header: \"Costo de Compra\"},\n    {field: \"costoPublico\",header: \"Costo a Publico\"},\n    {field: \"stock\",header: \"Stock\"}\n  ]\n\n  useEffect(() => {\n    funget();\n  },[]);\n\n  const clearData=() => {\n    setStateData(\n      {\n        idmedicamentos: false,\n        clave: '',\n        nombre: '',\n        descripcion: '',\n        costoCompra: '',\n        costoPublico: '',\n        stock: '',\n      }\n    )\n  }\n\n  const validSaveUpdate=() => {\n    if(StateData.idmedicamentos) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  const funget=() => {\n    Fetch('api/mercancia').then(response => {\n      setData(response.data)\n    }).catch(err => {\n      console.log(err);\n      Alert('warn',err);\n    });\n  }\n\n  const saveDataEdit=() => {\n    if(validSaveUpdate()) {\n      funUpdate();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      setOpenForm(false);\n      clearData();\n    }\n  }\n\n  const funInsert=() => {\n\n    if(\n      StateData.clave!==''&&\n      StateData.nombre!==''&&\n      StateData.descripcion!==''&&\n      StateData.costoCompra!==''&&\n      StateData.costoPublico!==''&&\n      StateData.stock!=='') {\n      let formData=new FormData();\n      formData.append(\"clave\",StateData.clave);\n      formData.append(\"nombre\",StateData.nombre);\n      formData.append(\"descripcion\",StateData.descripcion);\n      formData.append(\"costoCompra\",StateData.costoCompra);\n      formData.append(\"costoPublico\",StateData.costoPublico);\n      formData.append(\"stock\",StateData.stock);\n      Fetch(`api/mercancia`,{\n        method: \"POST\",\n        body: formData\n      }).then(response => {\n        if(response.status) {\n          funget()\n          Alert('success','Nuevo Producto Registrado!!!');\n        } else {\n          Alert('warn',response.err);\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n    }\n  }\n\n  const funUpdate=() => {\n    if(\n      StateData.idmedicamentos&&\n      StateData.clave!==''&&\n      StateData.nombre!==''&&\n      StateData.descripcion!==''&&\n      StateData.costoCompra!==''&&\n      StateData.costoPublico!==''&&\n      StateData.stock!=='') {\n      let formData=new FormData();\n      formData.append(\"idmedicamentos\",StateData.idmedicamentos);\n      formData.append(\"clave\",StateData.clave);\n      formData.append(\"nombre\",StateData.nombre);\n      formData.append(\"descripcion\",StateData.descripcion);\n      formData.append(\"costoCompra\",StateData.costoCompra);\n      formData.append(\"costoPublico\",StateData.costoPublico);\n      formData.append(\"stock\",StateData.stock);\n      Fetch(`api/mercancia`,{\n        method: \"PUT\",\n        body: formData\n      }).then(response => {\n        if(response.status) {\n          funget()\n          Alert('success','Informacion Actualizada!!!');\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n    }\n  }\n\n  const funDeleted=() => {\n    Fetch(`api/mercancia/${StateData.idmedicamentos}`,\n      {method: \"DELETE\"})\n      .then(response => {\n        if(response.status) {\n          funget()\n          Alert('success','Registro Eliminado!!!');\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n  }\n\n  const DataEdit=rowData => {\n    if(rowData.idmedicamentos)\n      setStateData(\n        {\n          idmedicamentos: rowData.idmedicamentos,\n          clave: rowData.clave,\n          nombre: rowData.nombre,\n          descripcion: rowData.descripcion,\n          costoCompra: rowData.costoCompra,\n          costoPublico: rowData.costoPublico,\n          stock: rowData.stock,\n        }\n      )\n  }\n\n  const DialogFooter=(\n    <>\n      <Button\n        label=\"Cancelar\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {\n          clearData()\n          setOpenForm(false)\n        }\n        }\n      />\n      <Button\n        label=\"Guardar\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => saveDataEdit()}\n      />\n    </>\n  );\n\n  const deleteDialogFooter=(\n    <>\n      <Button\n        label=\"No\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {setDeleteForm(false)}}\n      />\n      <Button\n        label=\"Yes\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => {\n          funDeleted()\n          funget()\n          setDeleteForm(false)\n        }}\n      />\n    </>\n  );\n\n  const leftContents=(\n    <React.Fragment>\n      <Button\n        label=\"Nuevo\"\n        icon=\"pi pi-plus\"\n        className=\"p-button-success p-mr-2\"\n        onClick={() => {\n          clearData()\n          setOpenForm(true)\n        }}\n      />\n    </React.Fragment>\n  )\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <div className=\"datatable-crud-demo\">\n        <div className=\"card\">\n          <Toolbar left={leftContents} />\n        </div>\n      </div>\n\n\n      <TablaM\n        Data={Data}\n        Columnas={Columnas}\n        OpenForm={OpenForm}\n        setOpenForm={setOpenForm}\n        DataEdit={DataEdit}\n        DeleteForm={DeleteForm}\n        setDeleteForm={setDeleteForm}\n      />\n\n      <Dialog\n        visible={OpenForm}\n        style={{width: '50%'}}\n        header=\"Mercancia\"\n        modal\n        className=\"p-fluid\"\n        footer={DialogFooter}\n        onHide={() => {setOpenForm(false)}}>\n        {/* <Panel header=\"Producto\"> */}\n        {/* Campo de clave */}\n        {/* <div className=\"p-grid\"> */}\n        {OpenForm? (\n          <Formulario\n            StateData={StateData}\n            setStateData={setStateData}\n            OpenForm={OpenForm} setOpenForm={setOpenForm}\n          />):''}\n        {/* </div> */}\n        {/* </Panel> */}\n      </Dialog>\n\n      <Dialog\n        visible={DeleteForm}\n        style={{width: '50%'}}\n        header=\"Confirm\"\n        modal\n        footer={deleteDialogFooter}\n        onHide={() => {setDeleteForm(false)}}>\n        <div className=\"confirmation-content\">\n          <i className=\"pi pi-exclamation-triangle p-mr-3\" style={{fontSize: '2rem'}} />\n          {DataEdit&&<span>Estas seguro de eliminar registro?</span>}\n        </div>\n      </Dialog>\n\n    </React.Fragment>\n  );\n\n\n}\n\n\n\n\n\nexport default AdminMercancia;"]},"metadata":{},"sourceType":"module"}