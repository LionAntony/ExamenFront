{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/examenFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/examenFront/src/moduloEmpleados/index.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport Contenedor, { Alert } from '../componentsPrincipales/Alert.jsx';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport Formulario from './components/formulario.js';\nimport TablaL from '../componentsPrincipales/TablaL/Tabla.js';\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js';\nimport MaterialTable from 'material-table';\n\nvar AdminClientes = function AdminClientes() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      OpenForm = _useState4[0],\n      setOpenForm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Idcat_clientes = _useState6[0],\n      setIdcat_clientes = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Nombre = _useState8[0],\n      setNombre = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      ApellidoP = _useState10[0],\n      setApellidoP = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      ApellidoM = _useState12[0],\n      setApellidoM = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Telefono = _useState14[0],\n      setTelefono = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      Correo = _useState16[0],\n      setCorreo = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      Direccion = _useState18[0],\n      setDireccion = _useState18[1];\n\n  var _useState19 = useState(),\n      _useState20 = _slicedToArray(_useState19, 2),\n      NotasMedicas = _useState20[0],\n      setNotasMedicas = _useState20[1];\n\n  var _useState21 = useState(),\n      _useState22 = _slicedToArray(_useState21, 2),\n      NotasEspe = _useState22[0],\n      setNotasEspe = _useState22[1];\n\n  var _useState23 = useState(),\n      _useState24 = _slicedToArray(_useState23, 2),\n      Alergias = _useState24[0],\n      setAlergias = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      DeleteForm = _useState26[0],\n      setDeleteForm = _useState26[1];\n\n  var Columnas = [{\n    field: \"nombre\",\n    header: \"Nombre\"\n  }, {\n    field: \"apellidoP\",\n    header: \"ApellidoP\"\n  }, {\n    field: \"apellidoM\",\n    header: \"ApellidoM\"\n  }, {\n    field: \"telefono\",\n    header: \"Telefono\"\n  }, {\n    field: \"correo\",\n    header: \"Correo\"\n  }];\n  useEffect(function () {\n    funget();\n  }, []);\n\n  var clearData = function clearData() {\n    setIdcat_clientes(false);\n    setNombre();\n    setApellidoP();\n    setApellidoM();\n    setTelefono();\n    setCorreo();\n    setDireccion();\n    setNotasMedicas();\n    setNotasEspe();\n    setAlergias();\n  };\n\n  var validSaveUpdate = function validSaveUpdate() {\n    if (Idcat_clientes) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var funget = function funget() {\n    Fetch('api/clientes').then(function (response) {\n      setData(response.data);\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var saveDataEdit = function saveDataEdit() {\n    if (validSaveUpdate()) {\n      funUpdate();\n      funget();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      funget();\n      setOpenForm(false);\n      clearData();\n    }\n  };\n\n  var funInsert = function funInsert() {\n    var formData = new FormData();\n    if (Nombre !== undefined) formData.append(\"nombre\", Nombre);\n    if (ApellidoP !== undefined) formData.append(\"apellidoP\", ApellidoP);\n    if (ApellidoM !== undefined) formData.append(\"apellidoM\", ApellidoM);\n    if (Telefono !== undefined) formData.append(\"telefono\", Telefono.replace(/[()]/gi, '').replace(/-/gi, '').replace(/[ ]/gi, ''));\n    if (Correo !== undefined) formData.append(\"correo\", Correo);\n    if (Direccion !== undefined) formData.append(\"direccion\", Direccion);\n    if (Alergias !== undefined) formData.append(\"alergias\", Alergias);\n    Fetch(\"api/clientes\", {\n      method: \"POST\",\n      body: formData\n    }).then(function (response) {\n      if (response.status) {\n        Alert('success', 'Nuevo Usuario Registrado!!!');\n        clearData();\n      } else {\n        Alert('warn', response.err);\n      }\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var funUpdate = function funUpdate() {\n    var formData = new FormData();\n    formData.append(\"id\", Idcat_clientes);\n    formData.append(\"nombre\", Nombre);\n    formData.append(\"apellidoP\", ApellidoP);\n    formData.append(\"apellidoM\", ApellidoM);\n    formData.append(\"telefono\", Telefono);\n    formData.append(\"correo\", Correo);\n    formData.append(\"direccion\", Direccion);\n    formData.append(\"alergias\", Alergias);\n    Fetch(\"api/clientes\", {\n      method: \"patch\",\n      body: formData\n    }).then(function (response) {\n      if (response.status) {\n        Alert('success', 'Informacion Actualizada!!!');\n      }\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var funDeleted = function funDeleted() {\n    Fetch(\"api/clientes/\".concat(Idcat_clientes), {\n      method: \"DELETE\"\n    }).then(function (response) {\n      if (response.status) {\n        Alert('success', 'Registro Eliminado!!!');\n      }\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var DialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"Cancelar\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Guardar\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      return saveDataEdit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }));\n  var deleteDialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"No\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Yes\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      funDeleted();\n      funget();\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }));\n\n  var DataEdit = function DataEdit(rowData) {\n    if (rowData.idcat_clientes) setIdcat_clientes(rowData.idcat_clientes);\n    setNombre(rowData.nombre);\n    setApellidoP(rowData.apellidoP);\n    setApellidoM(rowData.apellidoM);\n    setTelefono(rowData.telefono);\n    setCorreo(rowData.correo);\n    setDireccion(rowData.direccion);\n    setNotasMedicas(rowData.notas_medicas);\n    setNotasEspe(rowData.notas_especiales);\n    setAlergias(rowData.alergias);\n  };\n\n  var leftContents = /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Nuevo\",\n    icon: \"pi pi-plus\",\n    className: \"p-button-success p-mr-2\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"datatable-crud-demo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(MaterialTable, {\n    columns: [{\n      title: 'Adı',\n      field: 'name'\n    }, {\n      title: 'Soyadı',\n      field: 'surname'\n    }, {\n      title: 'Doğum Yılı',\n      field: 'birthYear',\n      type: 'numeric'\n    }, {\n      title: 'Doğum Yeri',\n      field: 'birthCity',\n      lookup: {\n        34: 'İstanbul',\n        63: 'Şanlıurfa'\n      }\n    }],\n    data: [{\n      name: 'Mehmet',\n      surname: 'Baran',\n      birthYear: 1987,\n      birthCity: 63\n    }],\n    title: \"Demo Title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TablaL, {\n    Data: Data,\n    Columnas: Columnas,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    DataEdit: DataEdit,\n    DeleteForm: DeleteForm,\n    setDeleteForm: setDeleteForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    visible: OpenForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Clientes\",\n    modal: true,\n    className: \"p-fluid\",\n    footer: DialogFooter,\n    onHide: function onHide() {\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, OpenForm ? /*#__PURE__*/React.createElement(Formulario, {\n    Idcat_clientes: Idcat_clientes,\n    setIdcat_clientes: setIdcat_clientes,\n    Nombre: Nombre,\n    setNombre: setNombre,\n    ApellidoP: ApellidoP,\n    setApellidoP: setApellidoP,\n    ApellidoM: ApellidoM,\n    setApellidoM: setApellidoM,\n    Telefono: Telefono,\n    setTelefono: setTelefono,\n    Correo: Correo,\n    setCorreo: setCorreo,\n    Direccion: Direccion,\n    setDireccion: setDireccion,\n    NotasMedicas: NotasMedicas,\n    setNotasMedicas: setNotasMedicas,\n    NotasEspe: NotasEspe,\n    setNotasEspe: setNotasEspe,\n    Alergias: Alergias,\n    setAlergias: setAlergias,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 21\n    }\n  }) : ''), /*#__PURE__*/React.createElement(Dialog, {\n    visible: DeleteForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Confirm\",\n    modal: true,\n    footer: deleteDialogFooter,\n    onHide: function onHide() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-exclamation-triangle p-mr-3\",\n    style: {\n      fontSize: '2rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }), DataEdit && /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 22\n    }\n  }, \"Estas seguro de eliminar registro?\"))));\n};\n\nexport default AdminClientes;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/examenFront/src/moduloEmpleados/index.js"],"names":["React","useState","useEffect","Contenedor","Alert","Toolbar","Button","Dialog","Formulario","TablaL","Fetch","MaterialTable","AdminClientes","Data","setData","OpenForm","setOpenForm","Idcat_clientes","setIdcat_clientes","Nombre","setNombre","ApellidoP","setApellidoP","ApellidoM","setApellidoM","Telefono","setTelefono","Correo","setCorreo","Direccion","setDireccion","NotasMedicas","setNotasMedicas","NotasEspe","setNotasEspe","Alergias","setAlergias","DeleteForm","setDeleteForm","Columnas","field","header","funget","clearData","validSaveUpdate","then","response","data","catch","err","console","log","saveDataEdit","funUpdate","funInsert","formData","FormData","undefined","append","replace","method","body","status","funDeleted","DialogFooter","deleteDialogFooter","DataEdit","rowData","idcat_clientes","nombre","apellidoP","apellidoM","telefono","correo","direccion","notas_medicas","notas_especiales","alergias","leftContents","title","type","lookup","name","surname","birthYear","birthCity","width","fontSize"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Contenedor,{Alert} from '../componentsPrincipales/Alert.jsx'\nimport {Toolbar} from 'primereact/toolbar';\nimport {Button} from 'primereact/button';\nimport {Dialog} from 'primereact/dialog';\nimport Formulario from './components/formulario.js'\nimport TablaL from '../componentsPrincipales/TablaL/Tabla.js'\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js'\n\nimport MaterialTable from 'material-table'\n\nconst AdminClientes=() => {\n  const [Data,setData]=useState([])\n  const [OpenForm,setOpenForm]=useState(false)\n\n  const [Idcat_clientes,setIdcat_clientes]=useState(false)\n  const [Nombre,setNombre]=useState()\n  const [ApellidoP,setApellidoP]=useState()\n  const [ApellidoM,setApellidoM]=useState()\n  const [Telefono,setTelefono]=useState()\n  const [Correo,setCorreo]=useState()\n  const [Direccion,setDireccion]=useState()\n  const [NotasMedicas,setNotasMedicas]=useState()\n  const [NotasEspe,setNotasEspe]=useState()\n  const [Alergias,setAlergias]=useState()\n\n  const [DeleteForm,setDeleteForm]=useState(false)\n\n  const Columnas=[\n    {field: \"nombre\",header: \"Nombre\"},\n    {field: \"apellidoP\",header: \"ApellidoP\"},\n    {field: \"apellidoM\",header: \"ApellidoM\"},\n    {field: \"telefono\",header: \"Telefono\"},\n    {field: \"correo\",header: \"Correo\"}\n  ]\n\n  useEffect(() => {\n    funget();\n  },[]);\n\n  const clearData=() => {\n    setIdcat_clientes(false)\n    setNombre()\n    setApellidoP()\n    setApellidoM()\n    setTelefono()\n    setCorreo()\n    setDireccion()\n    setNotasMedicas()\n    setNotasEspe()\n    setAlergias()\n  }\n\n  const validSaveUpdate=() => {\n    if(Idcat_clientes) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  const funget=() => {\n    Fetch('api/clientes')\n      .then(response => {\n        setData(response.data)\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n  }\n\n  const saveDataEdit=() => {\n    if(validSaveUpdate()) {\n      funUpdate();\n      funget();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      funget();\n      setOpenForm(false);\n      clearData();\n    }\n  }\n\n\n  const funInsert=() => {\n\n    let formData=new FormData();\n    if(Nombre!==undefined) formData.append(\"nombre\",Nombre);\n    if(ApellidoP!==undefined) formData.append(\"apellidoP\",ApellidoP);\n    if(ApellidoM!==undefined) formData.append(\"apellidoM\",ApellidoM);\n    if(Telefono!==undefined) formData.append(\"telefono\",Telefono.replace(/[()]/gi,'').replace(/-/gi,'').replace(/[ ]/gi,''));\n    if(Correo!==undefined) formData.append(\"correo\",Correo);\n    if(Direccion!==undefined) formData.append(\"direccion\",Direccion);\n    if(Alergias!==undefined) formData.append(\"alergias\",Alergias);\n\n    Fetch(`api/clientes`,{\n      method: \"POST\",\n      body: formData\n    }).then(response => {\n      if(response.status) {\n        Alert('success','Nuevo Usuario Registrado!!!');\n        clearData()\n      } else {\n        Alert('warn',response.err);\n      }\n    }).catch(err => {\n      console.log(err);\n      Alert('warn',err);\n    });\n  };\n\n\n  const funUpdate=() => {\n    let formData=new FormData();\n    formData.append(\"id\",Idcat_clientes);\n    formData.append(\"nombre\",Nombre);\n    formData.append(\"apellidoP\",ApellidoP);\n    formData.append(\"apellidoM\",ApellidoM);\n    formData.append(\"telefono\",Telefono);\n    formData.append(\"correo\",Correo);\n    formData.append(\"direccion\",Direccion);\n    formData.append(\"alergias\",Alergias);\n\n    Fetch(`api/clientes`,{\n      method: \"patch\",\n      body: formData\n    }).then(response => {\n      if(response.status) {\n        Alert('success','Informacion Actualizada!!!');\n      }\n    }).catch(err => {\n      console.log(err);\n      Alert('warn',err);\n    });\n  };\n\n  const funDeleted=() => {\n    Fetch(`api/clientes/${Idcat_clientes}`,{\n      method: \"DELETE\"\n    }).then(response => {\n      if(response.status) {\n        Alert('success','Registro Eliminado!!!');\n      }\n    }).catch(err => {\n      console.log(err);\n      Alert('warn',err);\n    });\n  };\n\n  const DialogFooter=(\n    <>\n      <Button\n        label=\"Cancelar\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {\n          clearData()\n          setOpenForm(false)\n        }\n        }\n      />\n      <Button\n        label=\"Guardar\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => saveDataEdit()}\n      />\n    </>\n  );\n\n  const deleteDialogFooter=(\n    <>\n      <Button\n        label=\"No\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {setDeleteForm(false)}}\n      />\n      <Button\n        label=\"Yes\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => {\n          funDeleted()\n          funget()\n          setDeleteForm(false)\n        }}\n      />\n    </>\n  );\n\n  const DataEdit=(rowData) => {\n    if(rowData.idcat_clientes)\n      setIdcat_clientes(rowData.idcat_clientes)\n    setNombre(rowData.nombre)\n    setApellidoP(rowData.apellidoP)\n    setApellidoM(rowData.apellidoM)\n    setTelefono(rowData.telefono)\n    setCorreo(rowData.correo)\n    setDireccion(rowData.direccion)\n    setNotasMedicas(rowData.notas_medicas)\n    setNotasEspe(rowData.notas_especiales)\n    setAlergias(rowData.alergias)\n  }\n\n  const leftContents=(\n    <React.Fragment>\n      <Button\n        label=\"Nuevo\"\n        icon=\"pi pi-plus\"\n        className=\"p-button-success p-mr-2\"\n        onClick={() => {\n          clearData()\n          setOpenForm(true)\n        }}\n      />\n    </React.Fragment>\n  )\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <div className=\"datatable-crud-demo\">\n        <div className=\"card\">\n          <Toolbar left={leftContents} />\n        </div>\n      </div>\n\n      <MaterialTable\n        columns={[\n          {title: 'Adı',field: 'name'},\n          {title: 'Soyadı',field: 'surname'},\n          {title: 'Doğum Yılı',field: 'birthYear',type: 'numeric'},\n          {title: 'Doğum Yeri',field: 'birthCity',lookup: {34: 'İstanbul',63: 'Şanlıurfa'}}\n        ]}\n        data={[{name: 'Mehmet',surname: 'Baran',birthYear: 1987,birthCity: 63}]}\n        title=\"Demo Title\"\n      />\n      <TablaL\n        Data={Data}\n        Columnas={Columnas}\n        OpenForm={OpenForm}\n        setOpenForm={setOpenForm}\n        DataEdit={DataEdit}\n        DeleteForm={DeleteForm}\n        setDeleteForm={setDeleteForm}\n      />\n\n      <Dialog\n        visible={OpenForm}\n        style={{width: '50%'}}\n        header=\"Clientes\"\n        modal\n        className=\"p-fluid\"\n        footer={DialogFooter}\n        onHide={() => {setOpenForm(false)}}>\n        {/* <Panel header=\"Producto\"> */}\n        {/* Campo de clave */}\n        {/* <div className=\"p-grid\"> */}\n        {OpenForm? (<Formulario\n          Idcat_clientes={Idcat_clientes} setIdcat_clientes={setIdcat_clientes}\n          Nombre={Nombre} setNombre={setNombre}\n          ApellidoP={ApellidoP} setApellidoP={setApellidoP}\n          ApellidoM={ApellidoM} setApellidoM={setApellidoM}\n          Telefono={Telefono} setTelefono={setTelefono}\n          Correo={Correo} setCorreo={setCorreo}\n          Direccion={Direccion} setDireccion={setDireccion}\n          NotasMedicas={NotasMedicas} setNotasMedicas={setNotasMedicas}\n          NotasEspe={NotasEspe} setNotasEspe={setNotasEspe}\n          Alergias={Alergias} setAlergias={setAlergias}\n          OpenForm={OpenForm} setOpenForm={setOpenForm} />):''}\n        {/* </div> */}\n        {/* </Panel> */}\n      </Dialog>\n\n      <Dialog\n        visible={DeleteForm}\n        style={{width: '50%'}}\n        header=\"Confirm\"\n        modal\n        footer={deleteDialogFooter}\n        onHide={() => {setDeleteForm(false)}}>\n        <div className=\"confirmation-content\">\n          <i className=\"pi pi-exclamation-triangle p-mr-3\" style={{fontSize: '2rem'}} />\n          {DataEdit&&<span>Estas seguro de eliminar registro?</span>}\n        </div>\n      </Dialog>\n\n    </React.Fragment>\n  );\n\n\n}\n\nexport default AdminClientes;\n\n\n"]},"metadata":{},"sourceType":"module"}