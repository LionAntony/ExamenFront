{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/examen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/examen/src/moduloBonos/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Contenedor, { Alert } from '../componentsPrincipales/Alert.jsx';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport TablaS from '../componentsPrincipales/TablaL/TablaMerca';\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js';\nimport Formulario from './components/formulario';\n\nvar AdminBonos = function AdminBonos() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      OpenForm = _useState4[0],\n      setOpenForm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      DeleteForm = _useState6[0],\n      setDeleteForm = _useState6[1];\n\n  var _useState7 = useState({\n    idcat_bonos: false,\n    descripcion: '',\n    cantidad: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      StateData = _useState8[0],\n      setStateData = _useState8[1];\n\n  var Columnas = [{\n    field: \"descripcion\",\n    header: \"Descripción\"\n  }, {\n    field: \"cantidad\",\n    header: \"Cantidad\"\n  }];\n  useEffect(function () {\n    funget();\n  }, []);\n\n  var clearData = function clearData() {\n    setStateData({\n      idcat_bonos: false,\n      descripcion: '',\n      cantidad: ''\n    });\n  };\n\n  var validSaveUpdate = function validSaveUpdate() {\n    if (StateData.idcat_bonos) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var funget = function funget() {\n    Fetch('api/bonos').then(function (response) {\n      setData(response.data);\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var saveDataEdit = function saveDataEdit() {\n    if (validSaveUpdate()) {\n      funUpdate();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      setOpenForm(false);\n      clearData();\n    }\n  };\n\n  var funInsert = function funInsert() {\n    if (StateData.descripcion !== '' && StateData.cantidad !== '') {\n      var formData = new FormData();\n      formData.append(\"descripcion\", StateData.descripcion);\n      formData.append(\"cantidad\", StateData.cantidad);\n      Fetch(\"api/bonos\", {\n        method: \"POST\",\n        body: formData\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Nuevo Bono Registrado');\n        } else {\n          Alert('warn', response.err);\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    }\n  };\n\n  var funUpdate = function funUpdate() {\n    if (StateData.idcat_bonos && StateData.descripcion !== '' && StateData.cantidad !== '') {\n      var formData = new FormData();\n      formData.append(\"idcat_bonos\", StateData.idcat_bonos);\n      formData.append(\"descripcion\", StateData.descripcion);\n      formData.append(\"cantidad\", StateData.cantidad);\n      Fetch(\"api/bonos\", {\n        method: \"PUT\",\n        body: formData\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Informacion Actualizada');\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    }\n  };\n\n  var funDeleted = function funDeleted() {\n    Fetch(\"api/bonos/\".concat(StateData.idcat_bonos), {\n      method: \"DELETE\"\n    }).then(function (response) {\n      if (response.status) {\n        funget();\n        Alert('success', 'Registro Eliminado!!!');\n      }\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var DataEdit = function DataEdit(rowData) {\n    if (rowData.idcat_bonos) setStateData({\n      idcat_bonos: rowData.idcat_bonos,\n      descripcion: rowData.descripcion,\n      cantidad: rowData.cantidad\n    });\n  };\n\n  var DialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"Cancelar\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Guardar\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      return saveDataEdit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }));\n  var deleteDialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"No\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Yes\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      funDeleted();\n      funget();\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }));\n  var leftContents = /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Nuevo\",\n    icon: \"pi pi-plus\",\n    className: \"p-button-success p-mr-2\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"datatable-crud-demo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(TablaS, {\n    Data: Data,\n    Columnas: Columnas,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    DataEdit: DataEdit,\n    DeleteForm: DeleteForm,\n    setDeleteForm: setDeleteForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    visible: OpenForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Mercancia\",\n    modal: true,\n    className: \"p-fluid\",\n    footer: DialogFooter,\n    onHide: function onHide() {\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }, OpenForm ? /*#__PURE__*/React.createElement(Formulario, {\n    StateData: StateData,\n    setStateData: setStateData,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }) : ''), /*#__PURE__*/React.createElement(Dialog, {\n    visible: DeleteForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Confirm\",\n    modal: true,\n    footer: deleteDialogFooter,\n    onHide: function onHide() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-exclamation-triangle p-mr-3\",\n    style: {\n      fontSize: '2rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }), DataEdit && /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 22\n    }\n  }, \"Estas seguro de eliminar registro?\"))));\n};\n\nexport default AdminBonos;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/examen/src/moduloBonos/index.js"],"names":["React","useState","useEffect","Contenedor","Alert","Toolbar","Button","Dialog","TablaS","Fetch","Formulario","AdminBonos","Data","setData","OpenForm","setOpenForm","DeleteForm","setDeleteForm","idcat_bonos","descripcion","cantidad","StateData","setStateData","Columnas","field","header","funget","clearData","validSaveUpdate","then","response","data","catch","err","console","log","saveDataEdit","funUpdate","funInsert","formData","FormData","append","method","body","status","funDeleted","DataEdit","rowData","DialogFooter","deleteDialogFooter","leftContents","width","fontSize"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport Contenedor,{Alert} from '../componentsPrincipales/Alert.jsx'\nimport {Toolbar} from 'primereact/toolbar';\nimport {Button} from 'primereact/button';\nimport {Dialog} from 'primereact/dialog';\nimport TablaS from '../componentsPrincipales/TablaL/TablaMerca'\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js'\nimport Formulario from './components/formulario'\n\n\n\nconst AdminBonos=() => {\n  const [Data,setData]=useState([])\n  const [OpenForm,setOpenForm]=useState(false)\n  const [DeleteForm,setDeleteForm]=useState(false)\n  const [StateData,setStateData]=useState(\n    {\n      idcat_bonos: false,\n      descripcion: '',\n      cantidad: ''\n    }\n  )\n\n  const Columnas=[\n    {field: \"descripcion\",header: \"Descripción\"},\n    {field: \"cantidad\",header: \"Cantidad\"}\n  ]\n\n  useEffect(() => {\n    funget();\n  },[]);\n\n  const clearData=() => {\n    setStateData(\n      {\n        idcat_bonos: false,\n        descripcion: '',\n        cantidad: ''\n      }\n    )\n  }\n\n  const validSaveUpdate=() => {\n    if(StateData.idcat_bonos) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  const funget=() => {\n    Fetch('api/bonos').then(response => {\n      setData(response.data)\n    }).catch(err => {\n      console.log(err);\n      Alert('warn',err);\n    });\n  }\n\n  const saveDataEdit=() => {\n    if(validSaveUpdate()) {\n      funUpdate();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      setOpenForm(false);\n      clearData();\n    }\n  }\n\n  const funInsert=() => {\n\n    if(\n      StateData.descripcion!==''&&\n      StateData.cantidad!==''\n    ) {\n      let formData=new FormData();\n      formData.append(\"descripcion\",StateData.descripcion);\n      formData.append(\"cantidad\",StateData.cantidad);\n      Fetch(`api/bonos`,{\n        method: \"POST\",\n        body: formData\n      }).then(response => {\n        if(response.status) {\n          funget()\n          Alert('success','Nuevo Bono Registrado');\n        } else {\n          Alert('warn',response.err);\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n    }\n  }\n\n  const funUpdate=() => {\n    if(\n      StateData.idcat_bonos&&\n      StateData.descripcion!==''&&\n      StateData.cantidad!==''\n    ) {\n      let formData=new FormData();\n      formData.append(\"idcat_bonos\",StateData.idcat_bonos)\n      formData.append(\"descripcion\",StateData.descripcion);\n      formData.append(\"cantidad\",StateData.cantidad);\n      Fetch(`api/bonos`,{\n        method: \"PUT\",\n        body: formData\n      }).then(response => {\n        if(response.status) {\n          funget()\n          Alert('success','Informacion Actualizada');\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n    }\n  }\n\n  const funDeleted=() => {\n    Fetch(`api/bonos/${StateData.idcat_bonos}`,{\n      method: \"DELETE\"\n    }).then(response => {\n      if(response.status) {\n        funget()\n        Alert('success','Registro Eliminado!!!');\n      }\n    }).catch(err => {\n      console.log(err);\n      Alert('warn',err);\n    });\n  }\n\n  const DataEdit=rowData => {\n    if(rowData.idcat_bonos)\n      setStateData(\n        {\n          idcat_bonos: rowData.idcat_bonos,\n          descripcion: rowData.descripcion,\n          cantidad: rowData.cantidad\n        }\n      )\n  }\n\n  const DialogFooter=(\n    <>\n      <Button\n        label=\"Cancelar\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {\n          clearData()\n          setOpenForm(false)\n        }\n        }\n      />\n      <Button\n        label=\"Guardar\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => saveDataEdit()}\n      />\n    </>\n  );\n\n  const deleteDialogFooter=(\n    <>\n      <Button\n        label=\"No\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {setDeleteForm(false)}}\n      />\n      <Button\n        label=\"Yes\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => {\n          funDeleted()\n          funget()\n          setDeleteForm(false)\n        }}\n      />\n    </>\n  );\n\n  const leftContents=(\n    <React.Fragment>\n      <Button\n        label=\"Nuevo\"\n        icon=\"pi pi-plus\"\n        className=\"p-button-success p-mr-2\"\n        onClick={() => {\n          clearData()\n          setOpenForm(true)\n        }}\n      />\n    </React.Fragment>\n  )\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <div className=\"datatable-crud-demo\">\n        <div className=\"card\">\n          <Toolbar left={leftContents} />\n        </div>\n      </div>\n\n      <TablaS\n        Data={Data}\n        Columnas={Columnas}\n        OpenForm={OpenForm}\n        setOpenForm={setOpenForm}\n        DataEdit={DataEdit}\n        DeleteForm={DeleteForm}\n        setDeleteForm={setDeleteForm}\n      />\n\n      <Dialog\n        visible={OpenForm}\n        style={{width: '50%'}}\n        header=\"Mercancia\"\n        modal\n        className=\"p-fluid\"\n        footer={DialogFooter}\n        onHide={() => {setOpenForm(false)}}>\n        {/* <Panel header=\"Producto\"> */}\n        {/* Campo de clave */}\n        {/* <div className=\"p-grid\"> */}\n        {OpenForm? (\n          <Formulario\n            StateData={StateData}\n            setStateData={setStateData}\n            OpenForm={OpenForm} setOpenForm={setOpenForm}\n          />):''}\n        {/* </div> */}\n        {/* </Panel> */}\n      </Dialog>\n\n      <Dialog\n        visible={DeleteForm}\n        style={{width: '50%'}}\n        header=\"Confirm\"\n        modal\n        footer={deleteDialogFooter}\n        onHide={() => {setDeleteForm(false)}}>\n        <div className=\"confirmation-content\">\n          <i className=\"pi pi-exclamation-triangle p-mr-3\" style={{fontSize: '2rem'}} />\n          {DataEdit&&<span>Estas seguro de eliminar registro?</span>}\n        </div>\n      </Dialog>\n\n    </React.Fragment>\n  )\n\n}\n\n\nexport default AdminBonos;"]},"metadata":{},"sourceType":"module"}