{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/examenFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/examenFront/src/moduloAdminUser/index.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport Contenedor, { Alert } from '../componentsPrincipales/Alert.jsx';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport TablaL from '../componentsPrincipales/TablaL/Tabla.js';\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js';\nimport Formulario from './components/formulario.js';\n\nvar AdminUser = function AdminUser() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      OpenForm = _useState4[0],\n      setOpenForm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Idcat_usuario = _useState6[0],\n      setIdcat_usuario = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Nombre = _useState8[0],\n      setNombre = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      ApellidoP = _useState10[0],\n      setApellidoP = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      ApellidoM = _useState12[0],\n      setApellidoM = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Correo = _useState14[0],\n      setCorreo = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      Pass = _useState16[0],\n      setPass = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      Status = _useState18[0],\n      setStatus = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      DeleteForm = _useState20[0],\n      setDeleteForm = _useState20[1];\n\n  var _useState21 = useState([{\n    field: \"idcat_usuario\",\n    header: \"id\"\n  }, {\n    field: \"nombre\",\n    header: \"Nombre\"\n  }, {\n    field: \"apellidoP\",\n    header: \"ApellidoP\"\n  }, {\n    field: \"apellidoM\",\n    header: \"ApellidoM\"\n  }, {\n    field: \"correo\",\n    header: \"Correo\"\n  }, {\n    field: \"status\",\n    header: \"Status\"\n  }]),\n      _useState22 = _slicedToArray(_useState21, 1),\n      Columnas = _useState22[0];\n\n  useEffect(function () {\n    funget();\n  }, []);\n\n  var clearData = function clearData() {\n    setIdcat_usuario(false);\n    setNombre();\n    setApellidoP();\n    setApellidoM();\n    setCorreo();\n    setPass();\n    setStatus(0);\n  };\n\n  var validSaveUpdate = function validSaveUpdate() {\n    if (Idcat_usuario) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var funget = function funget() {\n    Fetch('usuarios').then(function (response) {\n      setData(response.data[0]);\n    }).catch(function (err) {\n      console.log(err);\n      Alert('warn', err);\n    });\n  };\n\n  var saveDataEdit = function saveDataEdit() {\n    if (validSaveUpdate()) {\n      funUpdate();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      setOpenForm(false);\n      clearData();\n    }\n  };\n\n  var funInsert = function funInsert() {\n    var formData = new FormData();\n\n    if (Nombre !== undefined && ApellidoP !== undefined && ApellidoM !== undefined && Correo !== undefined && Pass !== undefined) {\n      formData.append(\"nombre\", Nombre);\n      formData.append(\"apellidoP\", ApellidoP);\n      formData.append(\"apellidoM\", ApellidoM);\n      formData.append(\"correo\", Correo);\n      formData.append(\"password\", Pass);\n      formData.append(\"status\", 1);\n      Fetch(\"usuarios\", {\n        method: \"POST\",\n        body: formData\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Nuevo Usuario Registrado');\n          clearData();\n        } else {\n          Alert('warn', 'Por favor verificar los datos.');\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    } else {\n      Alert('warn', 'Por favor verificar los datos.');\n    }\n  };\n\n  var funUpdate = function funUpdate() {\n    if (Idcat_usuario !== undefined) {\n      var formData = new FormData();\n      formData.append(\"idUser\", Idcat_usuario);\n      if (Nombre !== undefined) formData.append(\"nombre\", Nombre);\n      if (ApellidoP !== undefined) formData.append(\"apellidoP\", ApellidoP);\n      if (ApellidoM !== undefined) formData.append(\"apellidoM\", ApellidoM);\n      if (Correo !== undefined) formData.append(\"correo\", Correo);\n      if (Pass !== undefined) formData.append(\"password\", Pass);\n      if (Status !== undefined) formData.append(\"status\", Status);\n      Fetch(\"api/users\", {\n        method: \"put\",\n        body: formData\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Informacion Actualizada');\n        } else {\n          Alert('warn', \"Hubo un error en tu informaci贸n. Por favor verificar.\");\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', \"Hubo un error en tu informaci贸n. Por favor verificar.\");\n      });\n    }\n  };\n\n  var funDeleted = function funDeleted() {\n    if (Idcat_usuario !== undefined) {\n      Fetch(\"api/users/\".concat(Idcat_usuario), {\n        method: \"DELETE\"\n      }).then(function (response) {\n        if (response.status) {\n          funget();\n          Alert('success', 'Registro Eliminado!!!');\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert('warn', err);\n      });\n    }\n  };\n\n  var DialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"Cancelar\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Guardar\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      return saveDataEdit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }));\n  var deleteDialogFooter = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    label: \"No\",\n    icon: \"pi pi-times\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Yes\",\n    icon: \"pi pi-check\",\n    className: \"p-button-text\",\n    onClick: function onClick() {\n      funDeleted();\n      funget();\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }));\n\n  var DataEdit = function DataEdit(rowData) {\n    if (rowData.idcat_usuario) setIdcat_usuario(rowData.idcat_usuario);\n    setNombre(rowData.nombre);\n    setApellidoP(rowData.apellidoP);\n    setApellidoM(rowData.apellidoM);\n    setTipoNomina(rowData.fk_tipo_nomina);\n    setCorreo(rowData.correo);\n    setColors(rowData.color);\n    setPass();\n    setPassC();\n    setStatus(rowData.status);\n  };\n\n  var leftContents = /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Nuevo\",\n    icon: \"pi pi-plus\",\n    className: \"p-button-success p-mr-2\",\n    onClick: function onClick() {\n      clearData();\n      setOpenForm(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"datatable-crud-demo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: leftContents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(TablaL, {\n    Data: Data,\n    Columnas: Columnas,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    DataEdit: DataEdit,\n    DeleteForm: DeleteForm,\n    setDeleteForm: setDeleteForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    visible: OpenForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Clientes\",\n    modal: true,\n    className: \"p-fluid\",\n    footer: DialogFooter,\n    onHide: function onHide() {\n      setOpenForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }\n  }, OpenForm ? /*#__PURE__*/React.createElement(Formulario, {\n    Idcat_usuario: Idcat_usuario,\n    setIdcat_usuario: setIdcat_usuario,\n    Nombre: Nombre,\n    setNombre: setNombre,\n    ApellidoP: ApellidoP,\n    setApellidoP: setApellidoP,\n    ApellidoM: ApellidoM,\n    setApellidoM: setApellidoM,\n    TipoNomina: TipoNomina,\n    setTipoNomina: setTipoNomina,\n    Correo: Correo,\n    setCorreo: setCorreo,\n    Colors: Colors,\n    setColors: setColors,\n    Pass: Pass,\n    setPass: setPass,\n    PassC: PassC,\n    setPassC: setPassC,\n    OpenForm: OpenForm,\n    setOpenForm: setOpenForm,\n    CatTipoNomina: CatTipoNomina,\n    setCatTipoNomina: setCatTipoNomina,\n    Status: Status,\n    setStatus: setStatus,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }) : ''), /*#__PURE__*/React.createElement(Dialog, {\n    visible: DeleteForm,\n    style: {\n      width: '50%'\n    },\n    header: \"Confirm\",\n    modal: true,\n    footer: deleteDialogFooter,\n    onHide: function onHide() {\n      setDeleteForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-exclamation-triangle p-mr-3\",\n    style: {\n      fontSize: '2rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 11\n    }\n  }), DataEdit && /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 22\n    }\n  }, \"Estas seguro de eliminar registro?\"))));\n};\n\nexport default AdminUser;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/examenFront/src/moduloAdminUser/index.js"],"names":["React","useState","useEffect","Contenedor","Alert","Toolbar","Button","Dialog","TablaL","Fetch","Formulario","AdminUser","Data","setData","OpenForm","setOpenForm","Idcat_usuario","setIdcat_usuario","Nombre","setNombre","ApellidoP","setApellidoP","ApellidoM","setApellidoM","Correo","setCorreo","Pass","setPass","Status","setStatus","DeleteForm","setDeleteForm","field","header","Columnas","funget","clearData","validSaveUpdate","then","response","data","catch","err","console","log","saveDataEdit","funUpdate","funInsert","formData","FormData","undefined","append","method","body","status","funDeleted","DialogFooter","deleteDialogFooter","DataEdit","rowData","idcat_usuario","nombre","apellidoP","apellidoM","setTipoNomina","fk_tipo_nomina","correo","setColors","color","setPassC","leftContents","width","TipoNomina","Colors","PassC","CatTipoNomina","setCatTipoNomina","fontSize"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Contenedor,{Alert} from '../componentsPrincipales/Alert.jsx'\nimport {Toolbar} from 'primereact/toolbar';\nimport {Button} from 'primereact/button';\nimport {Dialog} from 'primereact/dialog';\nimport TablaL from '../componentsPrincipales/TablaL/Tabla.js'\nimport Fetch from '../componentsPrincipales/Fetch/FetchN.js'\nimport Formulario from './components/formulario.js'\n\n\nconst AdminUser=() => {\n  const [Data,setData]=useState([])\n  const [OpenForm,setOpenForm]=useState(false)\n  const [Idcat_usuario,setIdcat_usuario]=useState(false)\n  const [Nombre,setNombre]=useState()\n  const [ApellidoP,setApellidoP]=useState()\n  const [ApellidoM,setApellidoM]=useState()\n  const [Correo,setCorreo]=useState()\n  const [Pass,setPass]=useState()\n  const [Status,setStatus]=useState()\n  const [DeleteForm,setDeleteForm]=useState(false)\n\n  const [Columnas]=useState([\n    {field: \"idcat_usuario\",header: \"id\"},\n    {field: \"nombre\",header: \"Nombre\"},\n    {field: \"apellidoP\",header: \"ApellidoP\"},\n    {field: \"apellidoM\",header: \"ApellidoM\"},\n    {field: \"correo\",header: \"Correo\"},\n    {field: \"status\",header: \"Status\"},\n  ])\n\n  useEffect(() => {\n    funget();\n  },[]);\n\n  const clearData=() => {\n    setIdcat_usuario(false)\n    setNombre()\n    setApellidoP()\n    setApellidoM()\n    setCorreo()\n    setPass()\n    setStatus(0)\n  }\n\n  const validSaveUpdate=() => {\n    if(Idcat_usuario) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  const funget=() => {\n    Fetch('usuarios')\n      .then(response => {\n        setData(response.data[0])\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n  }\n\n  const saveDataEdit=() => {\n    if(validSaveUpdate()) {\n      funUpdate();\n      setOpenForm(false);\n      clearData();\n    } else {\n      funInsert();\n      setOpenForm(false);\n      clearData();\n    }\n  }\n\n  const funInsert=() => {\n    let formData=new FormData();\n    if(\n      Nombre!==undefined&&\n      ApellidoP!==undefined&&\n      ApellidoM!==undefined&&\n      Correo!==undefined&&\n      Pass!==undefined\n    ) {\n      formData.append(\"nombre\",Nombre);\n      formData.append(\"apellidoP\",ApellidoP);\n      formData.append(\"apellidoM\",ApellidoM);\n      formData.append(\"correo\",Correo);\n      formData.append(\"password\",Pass);\n      formData.append(\"status\",1);\n      Fetch(`usuarios`,{\n        method: \"POST\",\n        body: formData\n      }).then(response => {\n        if(response.status) {\n          funget();\n          Alert('success','Nuevo Usuario Registrado');\n          clearData()\n        } else {\n          Alert('warn','Por favor verificar los datos.');\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n    } else {\n      Alert('warn','Por favor verificar los datos.');\n    }\n  };\n\n\n  const funUpdate=() => {\n    if(\n      Idcat_usuario!==undefined\n    ) {\n      let formData=new FormData();\n      formData.append(\"idUser\",Idcat_usuario);\n\n      if(Nombre!==undefined)\n        formData.append(\"nombre\",Nombre);\n      if(ApellidoP!==undefined)\n        formData.append(\"apellidoP\",ApellidoP);\n      if(ApellidoM!==undefined)\n        formData.append(\"apellidoM\",ApellidoM);\n      if(Correo!==undefined)\n        formData.append(\"correo\",Correo);\n      if(Pass!==undefined)\n        formData.append(\"password\",Pass);\n      if(Status!==undefined)\n        formData.append(\"status\",Status)\n\n      Fetch(`api/users`,{\n        method: \"put\",\n        body: formData\n      }).then(response => {\n        if(response.status) {\n          funget();\n          Alert('success','Informacion Actualizada');\n        } else {\n          Alert('warn',\"Hubo un error en tu informaci贸n. Por favor verificar.\")\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',\"Hubo un error en tu informaci贸n. Por favor verificar.\")\n      });\n    }\n  };\n\n  const funDeleted=() => {\n    if(Idcat_usuario!==undefined) {\n      Fetch(`api/users/${Idcat_usuario}`,{\n        method: \"DELETE\"\n      }).then(response => {\n        if(response.status) {\n          funget();\n          Alert('success','Registro Eliminado!!!');\n        }\n      }).catch(err => {\n        console.log(err);\n        Alert('warn',err);\n      });\n    }\n  };\n\n  const DialogFooter=(\n    <>\n      <Button\n        label=\"Cancelar\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {\n          clearData()\n          setOpenForm(false)\n        }\n        }\n      />\n      <Button\n        label=\"Guardar\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => saveDataEdit()}\n      />\n    </>\n  );\n\n  const deleteDialogFooter=(\n    <>\n      <Button\n        label=\"No\"\n        icon=\"pi pi-times\"\n        className=\"p-button-text\"\n        onClick={() => {setDeleteForm(false)}}\n      />\n      <Button\n        label=\"Yes\"\n        icon=\"pi pi-check\"\n        className=\"p-button-text\"\n        onClick={() => {\n          funDeleted()\n          funget()\n          setDeleteForm(false)\n        }}\n      />\n    </>\n  );\n\n\n  const DataEdit=(rowData) => {\n    if(rowData.idcat_usuario)\n      setIdcat_usuario(rowData.idcat_usuario)\n    setNombre(rowData.nombre)\n    setApellidoP(rowData.apellidoP)\n    setApellidoM(rowData.apellidoM)\n    setTipoNomina(rowData.fk_tipo_nomina)\n    setCorreo(rowData.correo)\n    setColors(rowData.color)\n    setPass()\n    setPassC()\n    setStatus(rowData.status)\n\n  }\n\n\n  const leftContents=(\n    <React.Fragment>\n      <Button\n        label=\"Nuevo\"\n        icon=\"pi pi-plus\"\n        className=\"p-button-success p-mr-2\"\n        onClick={() => {\n          clearData();\n          setOpenForm(true)\n        }\n        }\n      />\n    </React.Fragment>\n  )\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <div className=\"datatable-crud-demo\">\n        <div className=\"card\">\n          <Toolbar left={leftContents} />\n        </div>\n      </div>\n\n\n      <TablaL\n        Data={Data}\n        Columnas={Columnas}\n        OpenForm={OpenForm}\n        setOpenForm={setOpenForm}\n        DataEdit={DataEdit}\n        DeleteForm={DeleteForm}\n        setDeleteForm={setDeleteForm}\n      />\n\n      <Dialog\n        visible={OpenForm}\n        style={{width: '50%'}}\n        header=\"Clientes\"\n        modal\n        className=\"p-fluid\"\n        footer={DialogFooter}\n        onHide={() => {setOpenForm(false)}}>\n        {/* <Panel header=\"Producto\"> */}\n        {/* Campo de clave */}\n        {/* <div className=\"p-grid\"> */}\n        {OpenForm? (\n          <Formulario\n            Idcat_usuario={Idcat_usuario} setIdcat_usuario={setIdcat_usuario}\n            Nombre={Nombre} setNombre={setNombre}\n            ApellidoP={ApellidoP} setApellidoP={setApellidoP}\n            ApellidoM={ApellidoM} setApellidoM={setApellidoM}\n            TipoNomina={TipoNomina} setTipoNomina={setTipoNomina}\n            Correo={Correo} setCorreo={setCorreo}\n            Colors={Colors} setColors={setColors}\n            Pass={Pass} setPass={setPass}\n            PassC={PassC} setPassC={setPassC}\n            OpenForm={OpenForm} setOpenForm={setOpenForm}\n            CatTipoNomina={CatTipoNomina} setCatTipoNomina={setCatTipoNomina}\n            Status={Status} setStatus={setStatus}\n          />):''}\n        {/* </div> */}\n        {/* </Panel> */}\n      </Dialog>\n\n      <Dialog\n        visible={DeleteForm}\n        style={{width: '50%'}}\n        header=\"Confirm\"\n        modal\n        footer={deleteDialogFooter}\n        onHide={() => {setDeleteForm(false)}}>\n        <div className=\"confirmation-content\">\n          <i className=\"pi pi-exclamation-triangle p-mr-3\" style={{fontSize: '2rem'}} />\n          {DataEdit&&<span>Estas seguro de eliminar registro?</span>}\n        </div>\n      </Dialog>\n\n    </React.Fragment>\n  );\n\n\n}\n\n\nexport default AdminUser;\n\n"]},"metadata":{},"sourceType":"module"}