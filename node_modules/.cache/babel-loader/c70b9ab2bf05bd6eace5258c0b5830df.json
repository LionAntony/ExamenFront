{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloCobros/components/ServicesProductos.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Dropdown } from 'primereact/dropdown';\nimport { InputNumber } from 'primereact/inputnumber';\nimport { Button } from 'primereact/button';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js';\nimport Contenedor, { Alert } from '../../componentsPrincipales/Alert.jsx';\nimport { Panel } from 'primereact/panel';\nimport { Fieldset } from 'primereact/fieldset';\n\nvar ServicesProductos = function ServicesProductos(_ref) {\n  var Productos = _ref.Productos,\n      IdTicket = _ref.IdTicket,\n      setIdTicket = _ref.setIdTicket,\n      getdata = _ref.getdata,\n      TipoVenta = _ref.TipoVenta,\n      Servicio = _ref.Servicio,\n      State = _ref.State;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      CatProductos = _useState2[0],\n      setCatProductos = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      CatPromoProduct = _useState4[0],\n      setCatPromoProduct = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      CatSinPromoProduct = _useState6[0],\n      setCatSinPromoProduct = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      SelectProduct = _useState8[0],\n      setSelectProduct = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      SelectProductPromo = _useState10[0],\n      setSelectProductPromo = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      Cantidad = _useState12[0],\n      setCantidad = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      PorcentPromo = _useState14[0],\n      setPorcentPromo = _useState14[1];\n\n  var addProductos = function addProductos() {\n    if (IdTicket !== 0 && SelectProduct !== undefined && Cantidad !== undefined && Cantidad > 0) {\n      var datos = new FormData();\n      datos.append('idTicket', IdTicket);\n      datos.append('idMedicina', SelectProduct.idmedicamentos);\n      datos.append('cantidad', Cantidad); // console.log(`IdTicket: ${IdTicket} SelectProduct: ${SelectProduct.idmedicamentos}Cantidad: ${Cantidad}`)\n\n      Fetch('api/tickets/add/medicina', {\n        method: \"PUT\",\n        body: datos\n      }).then(function (response) {\n        getdata();\n        Alert('success', 'Se agrego a la cuenta ');\n      });\n    } else {\n      Alert('warn', 'Debes seleccionar un producto');\n    }\n  };\n\n  var deleteProductos = function deleteProductos(rowData) {\n    deletePromoProductos(rowData);\n    var datos = new FormData();\n    datos.append('idTicket', IdTicket);\n    datos.append('idMedicina', rowData.id);\n    Fetch('api/tickets/delete/medicina', {\n      method: \"delete\",\n      body: datos\n    }).then(function (response) {\n      console.log(response);\n      getdata();\n      Alert('success', 'Se elimino de la cuenta');\n    });\n  };\n\n  var updateData = function updateData() {\n    Fetch('api/mercancia/venta').then(function (response) {\n      setCatProductos(response.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n    Fetch(\"api/tickets/sin-promo-producto/\".concat(IdTicket)).then(function (response) {\n      setCatSinPromoProduct(response.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n    Fetch(\"api/tickets/promo-producto/\".concat(IdTicket)).then(function (response) {\n      setCatPromoProduct(response.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    updateData();\n  }, []);\n\n  var actionCitasEnEsperaBodyTemplate = function actionCitasEnEsperaBodyTemplate(rowData) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      disabled: State === 'pagado',\n      icon: \"pi pi-times\",\n      className: \"p-button-rounded p-button-danger p-mr-2\",\n      onClick: function onClick() {\n        return deleteProductos(rowData);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var actionCitasEnEsperaBodyTemplatePromo = function actionCitasEnEsperaBodyTemplatePromo(rowData) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      disabled: State === 'pagado',\n      icon: \"pi pi-times\",\n      className: \"p-button-rounded p-button-danger p-mr-2\",\n      onClick: function onClick() {\n        return deletePromoProductos(rowData);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Panel, {\n    header: \"Resumen Conceptos\",\n    className: \" p-mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid p-shadow-24\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Fieldset, {\n    legend: \"Productos\",\n    toggleable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-mr-2 p-as-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, State === 'no pagado' ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-section implementation p-dropdown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    value: SelectProduct,\n    options: CatProductos,\n    onChange: function onChange(e) {\n      setSelectProduct(e.target.value);\n    },\n    optionLabel: \"nombre\",\n    placeholder: \"Seleccionar Metodo de Pago\",\n    filter: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(InputNumber, {\n    id: \"minmax-buttons\",\n    value: Cantidad,\n    min: 1,\n    max: 15,\n    mode: \"decimal\",\n    showButtons: true,\n    onChange: function onChange(e) {\n      setCantidad(e.value);\n    },\n    incrementButtonIcon: \"pi pi-plus\",\n    decrementButtonIcon: \"pi pi-minus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Agregar Producto \",\n    className: \"p-button-raised p-button-rounded\",\n    onClick: function onClick() {\n      return addProductos();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  })) : '', /*#__PURE__*/React.createElement(DataTable, {\n    value: Productos,\n    scrollable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    field: \"nombre\",\n    header: \"Concepto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"cantidad\",\n    header: \"Cantidad\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"costo\",\n    header: \"$\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    body: actionCitasEnEsperaBodyTemplate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, TipoVenta ? /*#__PURE__*/React.createElement(Fieldset, {\n    legend: \"Servicios\",\n    toggleable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    value: Servicio,\n    scrollable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    field: \"nombre\",\n    header: \"Concepto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"cantidad\",\n    header: \"Cantidad\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"costo\",\n    header: \"Costo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }\n  }))) : ''))));\n};\n\nexport default ServicesProductos;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloCobros/components/ServicesProductos.js"],"names":["React","useState","useEffect","Dropdown","InputNumber","Button","DataTable","Column","Fetch","Contenedor","Alert","Panel","Fieldset","ServicesProductos","Productos","IdTicket","setIdTicket","getdata","TipoVenta","Servicio","State","CatProductos","setCatProductos","CatPromoProduct","setCatPromoProduct","CatSinPromoProduct","setCatSinPromoProduct","SelectProduct","setSelectProduct","SelectProductPromo","setSelectProductPromo","Cantidad","setCantidad","PorcentPromo","setPorcentPromo","addProductos","undefined","datos","FormData","append","idmedicamentos","method","body","then","response","deleteProductos","rowData","deletePromoProductos","id","console","log","updateData","data","catch","err","actionCitasEnEsperaBodyTemplate","actionCitasEnEsperaBodyTemplatePromo","e","target","value"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,QAAR,QAAuB,qBAAvB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,MAAR,QAAqB,mBAArB;AACA,SAAQC,SAAR,QAAwB,sBAAxB;AACA,SAAQC,MAAR,QAAqB,mBAArB;AACA,OAAOC,KAAP,MAAkB,6CAAlB;AACA,OAAOC,UAAP,IAAmBC,KAAnB,QAA+B,uCAA/B;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,SAAQC,QAAR,QAAuB,qBAAvB;;AAGA,IAAMC,iBAAiB,GAAC,SAAlBA,iBAAkB,OAAuE;AAAA,MAArEC,SAAqE,QAArEA,SAAqE;AAAA,MAA3DC,QAA2D,QAA3DA,QAA2D;AAAA,MAAlDC,WAAkD,QAAlDA,WAAkD;AAAA,MAAtCC,OAAsC,QAAtCA,OAAsC;AAAA,MAA9BC,SAA8B,QAA9BA,SAA8B;AAAA,MAApBC,QAAoB,QAApBA,QAAoB;AAAA,MAAXC,KAAW,QAAXA,KAAW;;AAAA,kBAExDnB,QAAQ,CAAC,EAAD,CAFgD;AAAA;AAAA,MAEtFoB,YAFsF;AAAA,MAEzEC,eAFyE;;AAAA,mBAGlDrB,QAAQ,EAH0C;AAAA;AAAA,MAGtFsB,eAHsF;AAAA,MAGtEC,kBAHsE;;AAAA,mBAI5CvB,QAAQ,EAJoC;AAAA;AAAA,MAItFwB,kBAJsF;AAAA,MAInEC,qBAJmE;;AAAA,mBAKtDzB,QAAQ,EAL8C;AAAA;AAAA,MAKtF0B,aALsF;AAAA,MAKxEC,gBALwE;;AAAA,mBAM5C3B,QAAQ,EANoC;AAAA;AAAA,MAMtF4B,kBANsF;AAAA,MAMnEC,qBANmE;;AAAA,oBAOhE7B,QAAQ,EAPwD;AAAA;AAAA,MAOtF8B,QAPsF;AAAA,MAO7EC,WAP6E;;AAAA,oBAQxD/B,QAAQ,EARgD;AAAA;AAAA,MAQtFgC,YARsF;AAAA,MAQzEC,eARyE;;AAW7F,MAAMC,YAAY,GAAC,SAAbA,YAAa,GAAM;AACvB,QAAGpB,QAAQ,KAAG,CAAX,IAAcY,aAAa,KAAGS,SAA9B,IAAyCL,QAAQ,KAAGK,SAApD,IAA+DL,QAAQ,GAAC,CAA3E,EAA8E;AAC5E,UAAIM,KAAK,GAAC,IAAIC,QAAJ,EAAV;AACAD,MAAAA,KAAK,CAACE,MAAN,CAAa,UAAb,EAAwBxB,QAAxB;AACAsB,MAAAA,KAAK,CAACE,MAAN,CAAa,YAAb,EAA0BZ,aAAa,CAACa,cAAxC;AACAH,MAAAA,KAAK,CAACE,MAAN,CAAa,UAAb,EAAwBR,QAAxB,EAJ4E,CAK5E;;AACAvB,MAAAA,KAAK,CAAC,0BAAD,EAA4B;AAACiC,QAAAA,MAAM,EAAE,KAAT;AAAeC,QAAAA,IAAI,EAAEL;AAArB,OAA5B,CAAL,CACGM,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB3B,QAAAA,OAAO;AACPP,QAAAA,KAAK,CAAC,SAAD,EAAW,wBAAX,CAAL;AACD,OAJH;AAKD,KAXD,MAWO;AACLA,MAAAA,KAAK,CAAC,MAAD,EAAQ,+BAAR,CAAL;AACD;AAEF,GAhBD;;AAkBA,MAAMmC,eAAe,GAAC,SAAhBA,eAAgB,CAACC,OAAD,EAAa;AACjCC,IAAAA,oBAAoB,CAACD,OAAD,CAApB;AACA,QAAIT,KAAK,GAAC,IAAIC,QAAJ,EAAV;AACAD,IAAAA,KAAK,CAACE,MAAN,CAAa,UAAb,EAAwBxB,QAAxB;AACAsB,IAAAA,KAAK,CAACE,MAAN,CAAa,YAAb,EAA0BO,OAAO,CAACE,EAAlC;AAEAxC,IAAAA,KAAK,CAAC,6BAAD,EAA+B;AAACiC,MAAAA,MAAM,EAAE,QAAT;AAAkBC,MAAAA,IAAI,EAAEL;AAAxB,KAA/B,CAAL,CACGM,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBK,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA3B,MAAAA,OAAO;AACPP,MAAAA,KAAK,CAAC,SAAD,EAAW,yBAAX,CAAL;AACD,KALH;AAMD,GAZD;;AAcA,MAAMyC,UAAU,GAAC,SAAXA,UAAW,GAAM;AACrB3C,IAAAA,KAAK,CAAC,qBAAD,CAAL,CACGmC,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBtB,MAAAA,eAAe,CAACsB,QAAQ,CAACQ,IAAV,CAAf;AACD,KAHH,EAGKC,KAHL,CAGW,UAAAC,GAAG,EAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KALH;AAOA9C,IAAAA,KAAK,0CAAmCO,QAAnC,EAAL,CACG4B,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBlB,MAAAA,qBAAqB,CAACkB,QAAQ,CAACQ,IAAV,CAArB;AACD,KAHH,EAGKC,KAHL,CAGW,UAAAC,GAAG,EAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KALH;AAOA9C,IAAAA,KAAK,sCAA+BO,QAA/B,EAAL,CACG4B,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBpB,MAAAA,kBAAkB,CAACoB,QAAQ,CAACQ,IAAV,CAAlB;AACD,KAHH,EAGKC,KAHL,CAGW,UAAAC,GAAG,EAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KALH;AAOD,GAtBD;;AAuBApD,EAAAA,SAAS,CAAC,YAAM;AACdiD,IAAAA,UAAU;AACX,GAFQ,EAEP,EAFO,CAAT;;AAKA,MAAMI,+BAA+B,GAAC,SAAhCA,+BAAgC,CAACT,OAAD,EAAa;AACjD,wBACE,uDAEE,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE1B,KAAK,KAAG,QAA1B;AAAoC,MAAA,IAAI,EAAC,aAAzC;AAAuD,MAAA,SAAS,EAAC,yCAAjE;AAA2G,MAAA,OAAO,EAAE;AAAA,eAAMyB,eAAe,CAACC,OAAD,CAArB;AAAA,OAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAOD,GARD;;AAUA,MAAMU,oCAAoC,GAAC,SAArCA,oCAAqC,CAACV,OAAD,EAAa;AACtD,wBACE,uDAEE,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE1B,KAAK,KAAG,QAA1B;AAAoC,MAAA,IAAI,EAAC,aAAzC;AAAuD,MAAA,SAAS,EAAC,yCAAjE;AAA2G,MAAA,OAAO,EAAE;AAAA,eAAM2B,oBAAoB,CAACD,OAAD,CAA1B;AAAA,OAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAOD,GARD;;AAUA,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAC,mBAAd;AAAkC,IAAA,SAAS,EAAC,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAC,WAAjB;AAA6B,IAAA,UAAU,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1B,KAAK,KAAG,WAAR,gBAAqB,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACpB;AAAK,IAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,KAAK,EAAEO,aADT;AAEE,IAAA,OAAO,EAAEN,YAFX;AAGE,IAAA,QAAQ,EAAE,kBAACoC,CAAD,EAAO;AACf7B,MAAAA,gBAAgB,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AACD,KALH;AAME,IAAA,WAAW,EAAC,QANd;AAOE,IAAA,WAAW,EAAC,4BAPd;AAQE,IAAA,MAAM,MARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADoB,eAapB,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,gBAAhB;AACE,IAAA,KAAK,EAAE5B,QADT;AAEE,IAAA,GAAG,EAAE,CAFP;AAGE,IAAA,GAAG,EAAE,EAHP;AAIE,IAAA,IAAI,EAAC,SAJP;AAKE,IAAA,WAAW,MALb;AAME,IAAA,QAAQ,EAAE,kBAAC0B,CAAD,EAAO;AAACzB,MAAAA,WAAW,CAACyB,CAAC,CAACE,KAAH,CAAX;AAAqB,KANzC;AAOE,IAAA,mBAAmB,EAAC,YAPtB;AAQE,IAAA,mBAAmB,EAAC,aARtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAboB,eAwBpB,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,mBAAd;AAAkC,IAAA,SAAS,EAAC,kCAA5C;AAA+E,IAAA,OAAO,EAAE;AAAA,aAAMxB,YAAY,EAAlB;AAAA,KAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBoB,eAyBpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBoB,CAArB,GA0BiB,EA3BpB,eA6BE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAErB,SADT;AAEE,IAAA,UAAU,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,QAAd;AAAuB,IAAA,MAAM,EAAC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAyB,IAAA,MAAM,EAAC,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAsB,IAAA,MAAM,EAAC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEyC,+BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CA7BF,CADF,CADF,CAFF,eA+CE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,SAAS,gBACR,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAC,WAAjB;AAA6B,IAAA,UAAU,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEC,QAAlB;AAA4B,IAAA,UAAU,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,QAAd;AAAuB,IAAA,MAAM,EAAC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAyB,IAAA,MAAM,EAAC,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAsB,IAAA,MAAM,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CADQ,GAQR,EATJ,CA/CF,CADF,CAFF,CADF;AAkED,CA7JD;;AA+JA,eAAeN,iBAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {Dropdown} from 'primereact/dropdown';\nimport {InputNumber} from 'primereact/inputnumber';\nimport {Button} from 'primereact/button';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js'\nimport Contenedor,{Alert} from '../../componentsPrincipales/Alert.jsx'\nimport {Panel} from 'primereact/panel';\nimport {Fieldset} from 'primereact/fieldset';\n\n\nconst ServicesProductos=({Productos,IdTicket,setIdTicket,getdata,TipoVenta,Servicio,State}) => {\n\n  const [CatProductos,setCatProductos]=useState([])\n  const [CatPromoProduct,setCatPromoProduct]=useState();\n  const [CatSinPromoProduct,setCatSinPromoProduct]=useState();\n  const [SelectProduct,setSelectProduct]=useState()\n  const [SelectProductPromo,setSelectProductPromo]=useState()\n  const [Cantidad,setCantidad]=useState()\n  const [PorcentPromo,setPorcentPromo]=useState()\n\n\n  const addProductos=() => {\n    if(IdTicket!==0&&SelectProduct!==undefined&&Cantidad!==undefined&&Cantidad>0) {\n      let datos=new FormData()\n      datos.append('idTicket',IdTicket)\n      datos.append('idMedicina',SelectProduct.idmedicamentos)\n      datos.append('cantidad',Cantidad)\n      // console.log(`IdTicket: ${IdTicket} SelectProduct: ${SelectProduct.idmedicamentos}Cantidad: ${Cantidad}`)\n      Fetch('api/tickets/add/medicina',{method: \"PUT\",body: datos})\n        .then(response => {\n          getdata();\n          Alert('success','Se agrego a la cuenta ');\n        })\n    } else {\n      Alert('warn','Debes seleccionar un producto');\n    }\n\n  }\n\n  const deleteProductos=(rowData) => {\n    deletePromoProductos(rowData)\n    let datos=new FormData();\n    datos.append('idTicket',IdTicket)\n    datos.append('idMedicina',rowData.id)\n\n    Fetch('api/tickets/delete/medicina',{method: \"delete\",body: datos})\n      .then(response => {\n        console.log(response)\n        getdata();\n        Alert('success','Se elimino de la cuenta');\n      });\n  }\n\n  const updateData=() => {\n    Fetch('api/mercancia/venta')\n      .then(response => {\n        setCatProductos(response.data);\n      }).catch(err => {\n        console.log(err);\n      })\n\n    Fetch(`api/tickets/sin-promo-producto/${IdTicket}`)\n      .then(response => {\n        setCatSinPromoProduct(response.data);\n      }).catch(err => {\n        console.log(err);\n      })\n\n    Fetch(`api/tickets/promo-producto/${IdTicket}`)\n      .then(response => {\n        setCatPromoProduct(response.data);\n      }).catch(err => {\n        console.log(err);\n      })\n\n  }\n  useEffect(() => {\n    updateData()\n  },[]);\n\n\n  const actionCitasEnEsperaBodyTemplate=(rowData) => {\n    return (\n      <>\n        {/* <Button icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-warning p-mr-2\" onClick={() => this.editCita(rowData)} /> */}\n        <Button disabled={State==='pagado'} icon=\"pi pi-times\" className=\"p-button-rounded p-button-danger p-mr-2\" onClick={() => deleteProductos(rowData)} />\n        {/* <Button icon=\"pi pi-upload\" className=\"p-button-rounded p-button-success p-mr-2\" onClick={() => this.showValidacionPINDialogAtender(rowData)} /> */}\n      </>\n    );\n  }\n\n  const actionCitasEnEsperaBodyTemplatePromo=(rowData) => {\n    return (\n      <>\n        {/* <Button icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-warning p-mr-2\" onClick={() => this.editCita(rowData)} /> */}\n        <Button disabled={State==='pagado'} icon=\"pi pi-times\" className=\"p-button-rounded p-button-danger p-mr-2\" onClick={() => deletePromoProductos(rowData)} />\n        {/* <Button icon=\"pi pi-upload\" className=\"p-button-rounded p-button-success p-mr-2\" onClick={() => this.showValidacionPINDialogAtender(rowData)} /> */}\n      </>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <Panel header=\"Resumen Conceptos\" className=\" p-mb-2\">\n        <div className=\"p-grid p-shadow-24\">\n\n          <div className=\"p-col-6\">\n            <Fieldset legend=\"Productos\" toggleable>\n              <div className=\"p-mr-2 p-as-center\">\n                {State==='no pagado'? <React.Fragment>\n                  <div className=\"content-section implementation p-dropdown\">\n                    <Dropdown\n                      value={SelectProduct}\n                      options={CatProductos}\n                      onChange={(e) => {\n                        setSelectProduct(e.target.value)\n                      }}\n                      optionLabel=\"nombre\"\n                      placeholder=\"Seleccionar Metodo de Pago\"\n                      filter\n                    />\n                  </div>\n                  <InputNumber id=\"minmax-buttons\"\n                    value={Cantidad}\n                    min={1}\n                    max={15}\n                    mode=\"decimal\"\n                    showButtons\n                    onChange={(e) => {setCantidad(e.value)}}\n                    incrementButtonIcon=\"pi pi-plus\"\n                    decrementButtonIcon=\"pi pi-minus\"\n                  />\n\n                  <Button label=\"Agregar Producto \" className=\"p-button-raised p-button-rounded\" onClick={() => addProductos()} />\n                  <hr></hr>\n                </React.Fragment>:''}\n                {/* <div className=\"content-section implementation p-dropdown\"> */}\n                <DataTable\n                  value={Productos}\n                  scrollable>\n                  <Column field=\"nombre\" header=\"Concepto\" ></Column>\n                  <Column field=\"cantidad\" header=\"Cantidad\"></Column>\n                  <Column field=\"costo\" header=\"$\"></Column>\n                  <Column body={actionCitasEnEsperaBodyTemplate} ></Column>\n                </DataTable>\n                {/* </div> */}\n              </div>\n            </Fieldset>\n          </div>\n\n\n          <div className=\"p-col-6\">\n            {TipoVenta? (\n              <Fieldset legend=\"Servicios\" toggleable>\n                <DataTable value={Servicio} scrollable>\n                  <Column field=\"nombre\" header=\"Concepto\"></Column>\n                  <Column field=\"cantidad\" header=\"Cantidad\"></Column>\n                  <Column field=\"costo\" header=\"Costo\"></Column>\n                </DataTable>\n              </Fieldset>\n            ):''}\n          </div>\n        </div>\n      </Panel>\n    </React.Fragment>\n  )\n}\n\nexport default ServicesProductos;"]},"metadata":{},"sourceType":"module"}