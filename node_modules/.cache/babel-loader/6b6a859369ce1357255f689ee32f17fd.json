{"ast":null,"code":"import _slicedToArray from \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloCobros/components/Factura.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { InputSwitch } from 'primereact/inputswitch';\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js';\nimport Contenedor, { Alert } from '../../componentsPrincipales/Alert.jsx';\nimport { SelectButton } from 'primereact/selectbutton';\nimport { Button } from 'primereact/button';\n\nvar Factura = function Factura(_ref) {\n  var IdTicket = _ref.IdTicket,\n      getdata = _ref.getdata;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      Status = _useState2[0],\n      setStatus = _useState2[1];\n\n  var options = ['Si', 'No'];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Promo = _useState4[0],\n      setPromo = _useState4[1];\n  /**\n   * Funcion que retorna si aplica o no promo y si se requiere o no factura\n   */\n\n\n  var getInfo = function getInfo() {\n    var datos = new FormData();\n    datos.append('id', IdTicket);\n    Fetch('api/pagos/promoFac', {\n      method: \"POST\",\n      body: datos\n    }).then(function (response) {\n      // getdata();\n      if (response[0].promo === 1) {\n        setPromo('Si');\n      }\n\n      if (response[0].promo === 0) {\n        setPromo('No');\n      }\n    });\n  };\n  /** \n   * Funcion que actualiza el aplicar o no la promo de adultos mayores\n  */\n\n\n  var onOffPromo = function onOffPromo() {\n    var datos = new FormData();\n    datos.append('idTicket', IdTicket);\n\n    if (Promo === 'Si') {\n      datos.append('promo', 1);\n    }\n\n    if (Promo === 'No') {\n      datos.append('promo', 0);\n    }\n\n    Fetch('api/pagos/promoAply', {\n      method: \"post\",\n      body: datos\n    }).then(function (response) {// getdata();\n      // Alert('success','Se agrego a la cuenta ');\n    });\n  };\n\n  useEffect(function () {\n    getInfo();\n  }, []);\n  useEffect(function () {\n    if (Promo === 'Si' || Promo === 'No') {\n      onOffPromo();\n    }\n  }, [Promo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Contenedor, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-mr-2 p-as-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-12 p-lg-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card summary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Requiere Factura\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"detail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(InputSwitch, {\n    checked: Status === 0 ? false : true,\n    onChange: function onChange(e) {\n      return setStatus(e.value ? 1 : 0);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card summary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Descueto adultos mayores o discapacidad\"), /*#__PURE__*/React.createElement(SelectButton, {\n    value: Promo,\n    options: options,\n    onChange: function onChange(e) {\n      return setPromo(e.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card summary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Promocion de Temporada\"), /*#__PURE__*/React.createElement(Button, {\n    label: \"Buen Fin 50 %\",\n    className: \"p-button-raised p-button-danger\",\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default Factura;","map":{"version":3,"sources":["/Users/leonardogutierrezjuarez/Documents/GitHub/Front-Podologo/src/moduloCobros/components/Factura.js"],"names":["React","useState","useEffect","InputSwitch","Fetch","Contenedor","Alert","SelectButton","Button","Factura","IdTicket","getdata","Status","setStatus","options","Promo","setPromo","getInfo","datos","FormData","append","method","body","then","response","promo","onOffPromo","e","value"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,OAAOC,KAAP,MAAkB,6CAAlB;AACA,OAAOC,UAAP,IAAmBC,KAAnB,QAA+B,uCAA/B;AACA,SAAQC,YAAR,QAA2B,yBAA3B;AACA,SAAQC,MAAR,QAAqB,mBAArB;;AAEA,IAAMC,OAAO,GAAC,SAARA,OAAQ,OAAwB;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAbC,OAAa,QAAbA,OAAa;;AAAA,kBAEXV,QAAQ,EAFG;AAAA;AAAA,MAE7BW,MAF6B;AAAA,MAEtBC,SAFsB;;AAIpC,MAAMC,OAAO,GAAC,CAAC,IAAD,EAAM,IAAN,CAAd;;AAJoC,mBAKbb,QAAQ,EALK;AAAA;AAAA,MAK7Bc,KAL6B;AAAA,MAKvBC,QALuB;AAOpC;AACF;AACA;;;AACE,MAAMC,OAAO,GAAC,SAARA,OAAQ,GAAM;AAClB,QAAIC,KAAK,GAAC,IAAIC,QAAJ,EAAV;AACAD,IAAAA,KAAK,CAACE,MAAN,CAAa,IAAb,EAAkBV,QAAlB;AACAN,IAAAA,KAAK,CAAC,oBAAD,EAAsB;AAACiB,MAAAA,MAAM,EAAE,MAAT;AAAgBC,MAAAA,IAAI,EAAEJ;AAAtB,KAAtB,CAAL,CACGK,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB;AACA,UAAGA,QAAQ,CAAC,CAAD,CAAR,CAAYC,KAAZ,KAAoB,CAAvB,EAA0B;AACxBT,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;;AACD,UAAGQ,QAAQ,CAAC,CAAD,CAAR,CAAYC,KAAZ,KAAoB,CAAvB,EAA0B;AACxBT,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,KATH;AAUD,GAbD;AAeA;AACF;AACA;;;AACE,MAAMU,UAAU,GAAC,SAAXA,UAAW,GAAM;AACrB,QAAIR,KAAK,GAAC,IAAIC,QAAJ,EAAV;AACAD,IAAAA,KAAK,CAACE,MAAN,CAAa,UAAb,EAAwBV,QAAxB;;AACA,QAAGK,KAAK,KAAG,IAAX,EAAiB;AACfG,MAAAA,KAAK,CAACE,MAAN,CAAa,OAAb,EAAqB,CAArB;AACD;;AACD,QAAGL,KAAK,KAAG,IAAX,EAAiB;AACfG,MAAAA,KAAK,CAACE,MAAN,CAAa,OAAb,EAAqB,CAArB;AACD;;AACDhB,IAAAA,KAAK,CAAC,qBAAD,EAAuB;AAACiB,MAAAA,MAAM,EAAE,MAAT;AAAgBC,MAAAA,IAAI,EAAEJ;AAAtB,KAAvB,CAAL,CACGK,IADH,CACQ,UAAAC,QAAQ,EAAI,CAChB;AACA;AACD,KAJH;AAKD,GAdD;;AAgBAtB,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,OAAO;AACR,GAFQ,EAEP,EAFO,CAAT;AAIAf,EAAAA,SAAS,CAAC,YAAM;AACd,QAAGa,KAAK,KAAG,IAAR,IAAcA,KAAK,KAAG,IAAzB,EAA+B;AAC7BW,MAAAA,UAAU;AACX;AAEF,GALQ,EAKP,CAACX,KAAD,CALO,CAAT;AAOA,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEH,MAAM,KAAG,CAAT,GAAY,KAAZ,GAAkB,IAAxC;AAA8C,IAAA,QAAQ,EAAE,kBAACe,CAAD;AAAA,aAAOd,SAAS,CAACc,CAAC,CAACC,KAAF,GAAS,CAAT,GAAW,CAAZ,CAAhB;AAAA,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,eAME;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADF,eAEE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEb,KAArB;AAA4B,IAAA,OAAO,EAAED,OAArC;AAA8C,IAAA,QAAQ,EAAE,kBAACa,CAAD;AAAA,aAAOX,QAAQ,CAACW,CAAC,CAACC,KAAH,CAAf;AAAA,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CANF,eAUE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,eAAd;AAA8B,IAAA,SAAS,EAAC,iCAAxC;AAA0E,IAAA,QAAQ,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAVF,CADF,CAFF,CADF;AAuBD,CA9ED;;AAgFA,eAAenB,OAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {InputSwitch} from 'primereact/inputswitch';\nimport Fetch from '../../componentsPrincipales/Fetch/FetchN.js'\nimport Contenedor,{Alert} from '../../componentsPrincipales/Alert.jsx'\nimport {SelectButton} from 'primereact/selectbutton';\nimport {Button} from 'primereact/button';\n\nconst Factura=({IdTicket,getdata}) => {\n\n  const [Status,setStatus]=useState()\n\n  const options=['Si','No'];\n  const [Promo,setPromo]=useState();\n\n  /**\n   * Funcion que retorna si aplica o no promo y si se requiere o no factura\n   */\n  const getInfo=() => {\n    let datos=new FormData()\n    datos.append('id',IdTicket)\n    Fetch('api/pagos/promoFac',{method: \"POST\",body: datos})\n      .then(response => {\n        // getdata();\n        if(response[0].promo===1) {\n          setPromo('Si')\n        }\n        if(response[0].promo===0) {\n          setPromo('No')\n        }\n      })\n  }\n\n  /** \n   * Funcion que actualiza el aplicar o no la promo de adultos mayores\n  */\n  const onOffPromo=() => {\n    let datos=new FormData()\n    datos.append('idTicket',IdTicket)\n    if(Promo==='Si') {\n      datos.append('promo',1)\n    }\n    if(Promo==='No') {\n      datos.append('promo',0)\n    }\n    Fetch('api/pagos/promoAply',{method: \"post\",body: datos})\n      .then(response => {\n        // getdata();\n        // Alert('success','Se agrego a la cuenta ');\n      })\n  }\n\n  useEffect(() => {\n    getInfo()\n  },[]);\n\n  useEffect(() => {\n    if(Promo==='Si'||Promo==='No') {\n      onOffPromo()\n    }\n\n  },[Promo]);\n\n  return (\n    <React.Fragment>\n      <Contenedor />\n      <div className=\"p-mr-2 p-as-center\">\n        <div className=\"p-col-12 p-lg-12\">\n          <div className=\"card summary\">\n            <span className=\"title\">Requiere Factura</span>\n            <span className=\"detail\"></span>\n            <InputSwitch checked={Status===0? false:true} onChange={(e) => setStatus(e.value? 1:0)} />\n          </div>\n          <div className=\"card summary\">\n            <span className=\"title\">Descueto adultos mayores o discapacidad</span>\n            <SelectButton value={Promo} options={options} onChange={(e) => setPromo(e.value)} />\n          </div>\n          <div className=\"card summary\">\n            <span>Promocion de Temporada</span>\n            <Button label=\"Buen Fin 50 %\" className=\"p-button-raised p-button-danger\" disabled />\n          </div>\n        </div>\n      </div>\n\n    </React.Fragment>\n  )\n}\n\nexport default Factura;"]},"metadata":{},"sourceType":"module"}